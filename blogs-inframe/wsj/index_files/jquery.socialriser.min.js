function share(e){LeftPosition=screen.width?(screen.width-500)/2:100;TopPosition=screen.height?(screen.height-400)/2:100;settings="width="+500+",height="+400+",top="+TopPosition+",left="+LeftPosition+",scrollbars=yes,location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no";win=window.open(e+"&","template_window",settings)}var socialRiser={create:function(e){e=typeof e=="undefined"||e==""?e=[]:e;var t=typeof e.container=="undefined"||e.container==""?".social-links":e.container;var n=typeof e.url=="undefined"||e.url==""?window.location.href:e.url;n=encodeURIComponent(n);var r=typeof e.text=="undefined"||e.text==""?encodeURIComponent(document.title.split(" - WSJ.com")[0]):encodeURIComponent(e.text);var i=false,s=false;if(typeof e.networks=="undefined"||e.networks==""){i=true,s=true}else{var o=e.networks.split(",");$.each(o,function(e,t){t=t.trim()});if(jQuery.inArray("twitter",e.networks))i=true;if(jQuery.inArray("facebook",e.networks))s=true}var u="";if(i)u+='<div class="social-link"><a data-url="'+n+'" data-text="'+r+'" data-network="twitter" href="https://twitter.com/share?url='+n+"&text="+r+'" rel="'+r+'" onclick="share(this.href);return false" onfocus="this.blur()" class="sr-twitter"></a></div>';if(s)u+='<div class="social-link"><a data-url="'+n+'" data-text="'+r+'" data-network="facebook" href="http://www.facebook.com/sharer.php?s=100&p[title]='+document.title.split(" - WSJ.com")[0]+"&p[summary]=&p[url]="+n+'" onclick="share(this.href);return false" onfocus="this.blur()" class="sr-facebook"></a></div>';$(t).addClass("social-riser").html(u)},update:function(e){e=typeof e=="undefined"||e==""?e=[]:e;var t=typeof e.container=="undefined"||e.container==""?".social-links":e.container;var n=typeof e.url=="undefined"||e.url==""?$(t).find(".social-link a").first().data("url"):encodeURIComponent(e.url);var r=typeof e.text=="undefined"||e.text==""?$(t).find(".social-link a").first().data("text"):encodeURIComponent(e.text);$(t).find(".social-link .sr-twitter").each(function(){$(this).data("url",n);$(this).data("text",r);$(this).attr("href","https://twitter.com/share?url="+n+"&text="+r);$(this).attr("onclick","share(this.href);return false")});$(t).find(".social-link .sr-facebook").each(function(){$(this).data("url",n);$(this).data("text",r);$(this).attr("href","http://www.facebook.com/sharer.php?s=100&p[title]="+r+"&p[summary]=&p[url]="+n);$(this).attr("onclick","share(this.href);return false")})}};var win=null;
