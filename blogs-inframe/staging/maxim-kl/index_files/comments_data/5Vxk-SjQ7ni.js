/*!CK:625970790!*//*1379395844,173217319*/

if (self.CavalryLogger) { CavalryLogger.start_js(["R\/gZK"]); }

__d("ChannelConstants",[],function(a,b,c,d,e,f){var g='channel/',h={ON_SHUTDOWN:g+'shutdown',ON_INVALID_HISTORY:g+'invalid_history',ON_CONFIG:g+'config',ON_ENTER_STATE:g+'enter_state',ON_EXIT_STATE:g+'exit_state',OK:'ok',ERROR:'error',ERROR_MAX:'error_max',ERROR_MISSING:'error_missing',ERROR_MSG_TYPE:'error_msg_type',ERROR_SHUTDOWN:'error_shutdown',ERROR_STALE:'error_stale',SYS_OWNER:'sys_owner',SYS_NONOWNER:'sys_nonowner',SYS_ONLINE:'sys_online',SYS_OFFLINE:'sys_offline',SYS_TIMETRAVEL:'sys_timetravel',HINT_AUTH:'shutdown auth',HINT_CONN:'shutdown conn',HINT_DISABLED:'shutdown disabled',HINT_INVALID_STATE:'shutdown invalid state',HINT_MAINT:'shutdown maint',HINT_UNSUPPORTED:'shutdown unsupported',reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP:8,getArbiterType:function(i){return g+'message:'+i;}};e.exports=h;});
__d("Keys",[],function(a,b,c,d,e,f){e.exports={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188};});
__d("deferred",[],function(a,b,c,d,e,f){var g=0,h=1,i=2,j=4,k='callbacks',l='errbacks',m='cancelbacks',n='completeCallbacks',o=[],p=o.slice,q=o.unshift;function r(x,y){return x?p.call(x,y):o;}function s(x,y){return y<x.length?r(x,y):o;}function t(){this.$Deferred0=g;}t.prototype.addCallback=function(x,y){return this.$Deferred1(h,this.$Deferred2(k),x,y,s(arguments,2));};t.prototype.removeCallback=function(x,y){return this.$Deferred3(this.$Deferred2(k),x,y);};t.prototype.addCompleteCallback=function(x,y){return this.$Deferred1(null,this.$Deferred2(n),x,y,s(arguments,2));};t.prototype.removeCompleteCallback=function(x,y){return this.$Deferred3(this.$Deferred2(n),x,y);};t.prototype.addErrback=function(x,y){return this.$Deferred1(i,this.$Deferred2(l),x,y,s(arguments,2));};t.prototype.removeErrback=function(x,y){return this.$Deferred3(this.$Deferred2(l),x,y);};t.prototype.addCancelback=function(x,y){return this.$Deferred1(j,this.$Deferred2(m),x,y,s(arguments,2));};t.prototype.removeCancelback=function(x,y){return this.$Deferred3(this.$Deferred2(m),x,y);};t.prototype.getStatus=function(){return this.$Deferred0;};t.prototype.setStatus=function(x){var y;this.$Deferred0=x;this.callbackArgs=r(arguments,1);if(x===i){y=l;}else if(x===h){y=k;}else if(x===j)y=m;if(y)this.$Deferred4(this[y],this.callbackArgs);this.$Deferred4(this[n],this.callbackArgs);return this;};t.prototype.setTimeout=function(x){if(this.timeout)this.clearTimeout();this.$Deferred5=this.$Deferred5||this.fail.bind(this);this.timeout=window.setTimeout(this.$Deferred5,x);};t.prototype.clearTimeout=function(){window.clearTimeout(this.timeout);delete this.timeout;};t.prototype.succeed=function(){return this.$Deferred6(h,arguments);};t.prototype.fail=function(){return this.$Deferred6(i,arguments);};t.prototype.cancel=function(){delete this[k];delete this[l];return this.$Deferred6(j,arguments);};t.prototype.$Deferred6=function(x,y){q.call(y,x);return this.setStatus.apply(this,y);};t.prototype.$Deferred2=function(x){return this[x]||(this[x]=[]);};t.prototype.then=function(x,y,z,aa){var ba=new t(),x,ca,da,ea=r(arguments,0);if(typeof ea[0]==='function')x=ea.shift();if(typeof ea[0]==='function')ca=ea.shift();if(typeof ea[0]==='function')da=ea.shift();var fa=ea.shift();if(x){var ga=[this.$Deferred7,this,ba,'succeed',x,fa].concat(ea);this.addCallback.apply(this,ga);}else this.addCallback(ba.succeed,ba);if(ca){var ha=[this.$Deferred7,this,ba,'fail',ca,fa].concat(ea);this.addErrback.apply(this,ha);}else this.addErrback(ba.fail,ba);if(da){var ia=[this.$Deferred7,this,ba,'cancel',da,fa].concat(ea);this.addCancelback.apply(this,ia);}else this.addCancelback(ba.cancel,ba);return ba;};t.prototype.$Deferred1=function(x,y,z,aa,ba){var ca=this.getStatus();if((!x&&ca!==g)||ca===x){z.apply(aa||this,ba.concat(this.callbackArgs));}else y.push(z,aa,ba);return this;};t.prototype.$Deferred3=function(x,y,z){for(var aa=0;aa<x.length;aa+=3)if(x[aa]===y&&(!z||x[aa+1]===z)){x.splice(aa,3);if(z)break;aa-=3;}return this;};t.prototype.pipe=function(x){this.addCallback(x.succeed,x).addErrback(x.fail,x).addCancelback(x.cancel,x);};t.prototype.$Deferred4=function(x,y){for(var z=0;z<(x||o).length;z+=3)x[z].apply(x[z+1]||this,(x[z+2]||o).concat(y));};t.prototype.$Deferred7=function(x,y,z,aa){var ba=r(arguments,4),ca=z.apply(aa,ba);if(ca instanceof t){ca.pipe(x);}else x[y](ca);};for(var u in t)if(t.hasOwnProperty(u))w[u]=t[u];var v=t===null?null:t.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=t;function w(x){t.call(this);this.completed=0;this.list=[];if(x){x.forEach(this.waitFor,this);this.startWaiting();}}w.prototype.startWaiting=function(){this.waiting=true;this.checkDeferreds();return this;};w.prototype.waitFor=function(x){this.list.push(x);this.checkDeferreds();x.addCompleteCallback(this.deferredComplete,this);return this;};w.prototype.createWaitForDeferred=function(){var x=new t();this.waitFor(x);return x;};w.prototype.createWaitForCallback=function(){var x=this.createWaitForDeferred();return x.succeed.bind(x);};w.prototype.deferredComplete=function(){this.completed++;if(this.completed===this.list.length)this.checkDeferreds();};w.prototype.checkDeferreds=function(){if(!this.waiting||this.completed!==this.list.length)return;var x=false,y=false,z=[g];for(var aa=0,ba=this.list.length;aa<ba;aa++){var ca=this.list[aa];z.push([ca].concat(ca.callbackArgs));if(ca.getStatus()===i){x=true;}else if(ca.getStatus()===j)y=true;}if(x){z[0]=i;this.fail.apply(this,z);}else if(y){z[0]=j;this.cancel.apply(this,z);}else{z[0]=h;this.succeed.apply(this,z);}};f.Deferred=t;f.DeferredList=w;f.Deferred.toArray=r;f.Deferred.STATUS_UNKNOWN=g;f.Deferred.STATUS_SUCCEEDED=h;f.Deferred.STATUS_CANCELED=j;f.Deferred.STATUS_FAILED=i;});
__d("JSLogger",[],function(a,b,c,d,e,f){var g={MAX_HISTORY:500,counts:{},categories:{},seq:0,pageId:(Math.random()*2147483648|0).toString(36),forwarding:false};function h(l){if(l instanceof Error&&a.ErrorUtils)l=a.ErrorUtils.normalizeError(l);try{return JSON.stringify(l);}catch(m){return '{}';}}function i(l,event,m){if(!g.counts[l])g.counts[l]={};if(!g.counts[l][event])g.counts[l][event]=0;m=m==null?1:Number(m);g.counts[l][event]+=isFinite(m)?m:0;}g.logAction=function(event,l,m){if(this.type=='bump'){i(this.cat,event,l);}else if(this.type=='rate'){(l&&i(this.cat,event+'_n',m));i(this.cat,event+'_d',m);}else{var n={cat:this.cat,type:this.type,event:event,data:l!=null?h(l):null,date:Date.now(),seq:g.seq++};g.head=g.head?(g.head.next=n):(g.tail=n);while(g.head.seq-g.tail.seq>g.MAX_HISTORY)g.tail=g.tail.next;return n;}};function j(l){if(!g.categories[l]){g.categories[l]={};var m=function(n){var o={cat:l,type:n};g.categories[l][n]=function(){g.forwarding=false;var p=null;if(document.domain!='facebook.com')return;p=g.logAction;if(/^\/+(dialogs|plugins?)\//.test(location.pathname)){g.forwarding=false;}else try{p=a.top.require('JSLogger')._.logAction;g.forwarding=p!==g.logAction;}catch(q){}(p&&p.apply(o,arguments));};};m('debug');m('log');m('warn');m('error');m('bump');m('rate');}return g.categories[l];}function k(l,m){var n=[];for(var o=m||g.tail;o;o=o.next)if(!l||l(o)){var p={type:o.type,cat:o.cat,date:o.date,event:o.event,seq:o.seq};if(o.data)p.data=JSON.parse(o.data);n.push(p);}return n;}e.exports={_:g,DUMP_EVENT:'jslogger/dump',create:j,getEntries:k};});
__d("ShortProfiles",["ArbiterMixin","AjaxLoader","Env","FBAjaxRequest","JSLogger","copyProperties"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AjaxLoader'),i=b('Env'),j=b('FBAjaxRequest'),k=b('JSLogger'),l=b('copyProperties'),m='/ajax/chat/user_info.php',n='/ajax/chat/user_info_all.php',o=new h(m,'profiles'),p=false,q=k.create('short_profiles');function r(){if(!p){q.log('fetch_all');p=true;var u=new j('GET',n,{viewer:i.user});u.onJSON=function(v){o.set(v.json);t.inform('updated');};u.send();}}function s(u){return JSON.parse(JSON.stringify(u));}var t={};l(t,g,{get:function(u,v){this.getMulti([u],function(w){v(w[u],u);});},getMulti:function(u,v){function w(x){v(s(x));}o.get(u,w);},getNow:function(u){return s(o.getNow(u)||null);},getNowUnsafe:function(u){return o.getNow(u)||null;},getCachedProfileIDs:function(){return o.getCachedKeys();},hasAll:function(){return p;},fetchAll:function(){r();},set:function(u,v){var w={};w[u]=v;this.setMulti(w);},setMulti:function(u){o.set(s(u));}});e.exports=t;});
__d("EventListener",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h={listen:g.listen,capture:function(i,j,k){if(!i.addEventListener){return;}else i.addEventListener(j,k,true);}};e.exports=h;});
__d("joinClasses",[],function(a,b,c,d,e,f){function g(h){if(!h)h='';var i,j=arguments.length;if(j>1)for(var k=1;k<j;k++){i=arguments[k];i&&(h+=' '+i);}return h;}e.exports=g;});
__d("keyOf",[],function(a,b,c,d,e,f){var g=function(h){var i;for(i in h){if(!h.hasOwnProperty(i))continue;return i;}return null;};e.exports=g;});
__d("Timestamp.react",["LiveTimer","React"],function(a,b,c,d,e,f){var g=b('LiveTimer'),h=b('React'),i=h.createClass({displayName:'Timestamp',render:function(){var j=g.renderRelativeTimeToServer(this.props.time);return this.transferPropsTo(h.DOM.abbr({className:"livetimestamp",title:this.props.verbose,'data-utime':this.props.time},j.text||this.props.text));}});e.exports=i;});
__d("arrayContains",[],function(a,b,c,d,e,f){function g(h,i){return h.indexOf(i)!=-1;}e.exports=g;});
__d("flattenArray",[],function(a,b,c,d,e,f){function g(h){var i=h.slice(),j=[];while(i.length){var k=i.pop();if(Array.isArray(k)){Array.prototype.push.apply(i,k);}else j.push(k);}return j.reverse();}e.exports=g;});
__d("JSXDOM",["DOM","flattenArray"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('flattenArray'),i=['a','br','button','canvas','checkbox','dd','div','dl','dt','em','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','tbody','thead','td','textarea','th','tr','ul','video'],j={};i.forEach(function(k){var l=function(m,n){if(arguments.length>2)n=Array.prototype.slice.call(arguments,1);if(!n&&m){n=m.children;delete m.children;}if(n)n=Array.isArray(n)?h(n):h([n]);return g.create(k,m,n);};j[k]=l;});e.exports=j;});
__d("escapeJSQuotes",[],function(a,b,c,d,e,f){function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;});
__d("htmlSpecialChars",[],function(a,b,c,d,e,f){var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;});
__d("htmlize",["htmlSpecialChars"],function(a,b,c,d,e,f){var g=b('htmlSpecialChars');function h(i){return g(i).replace(/\r\n|[\r\n]/g,'<br/>');}e.exports=h;});
__d("shield",[],function(a,b,c,d,e,f){function g(h,i){if(typeof h!='function')throw new TypeError();var j=Array.prototype.slice.call(arguments,2);return function(){return h.apply(i,j);};}e.exports=g;});
__d("startsWith",[],function(a,b,c,d,e,f){function g(h,i,j){var k=String(h);j=Math.min(Math.max(j||0,0),k.length);return k.lastIndexOf(String(i),j)===j;}e.exports=g;});
__d("getContextualParent",["ge"],function(a,b,c,d,e,f){var g=b('ge');function h(i,j){var k,l=false;do{if(i.getAttribute&&(k=i.getAttribute('data-ownerid'))){i=g(k);l=true;}else i=i.parentNode;}while(j&&i&&!l);return i;}e.exports=h;});
__d("Nectar",["Env","startsWith","getContextualParent"],function(a,b,c,d,e,f){var g=b('Env'),h=b('startsWith'),i=b('getContextualParent');function j(m){if(!m.nctr)m.nctr={};}function k(m){if(g.module||!m)return g.module;var n={fbpage_fan_confirm:true,photos_snowlift:true},o;while(m&&m.getAttributeNode){var p=(m.getAttributeNode('id')||{}).value;if(h(p,'pagelet_'))return p;if(!o&&n[p])o=p;m=i(m);}return o;}var l={addModuleData:function(m,n){var o=k(n);if(o){j(m);m.nctr._mod=o;}},addImpressionID:function(m){if(g.impid){j(m);m.nctr._impid=g.impid;}}};e.exports=l;});
__d("debounceAcrossTransitions",["debounce"],function(a,b,c,d,e,f){var g=b('debounce');function h(i,j,k){return g(i,j,k,true);}e.exports=h;});
__d("MercuryServerDispatcher",["AsyncRequest","FBAjaxRequest","Env","LogHistory","areObjectsEqual","copyProperties","debounceAcrossTransitions"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('FBAjaxRequest'),i=b('Env'),j=b('LogHistory'),k=b('areObjectsEqual'),l=b('copyProperties'),m=b('debounceAcrossTransitions'),n={},o=j.getInstance('mercury_dispatcher'),p=false,q={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',registerEndpoints:function(t){for(var u in t){var v=t[u],w=v.request_user_id||i.user;if(!n[u])n[u]={};if(!n[u][w])n[u][w]={};n[u][w]=new r(u,v);}},trySend:function(t,u,v,w){w=w||i.user;if(t=='/ajax/mercury/client_reliability.php'&&!n[t][w])n[t][w]=n[t][undefined];n[t][w].trySend(u,v);}};function r(t,u){var v=u.mode||q.IMMEDIATE;switch(v){case q.IMMEDIATE:case q.IDEMPOTENT:case q.BATCH_SUCCESSIVE:case q.BATCH_SUCCESSIVE_UNIQUE:case q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case q.BATCH_DEFERRED_MULTI:case q.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+v);}this._endpoint=t;this._mode=v;this._requestUserID=u.request_user_id;this._combineData=u.batch_function;this._combineDataIf=u.batch_if;this._batchSizeLimit=u.batch_size_limit;this._batches=[];this._handler=u.handler;this._errorHandler=u.error_handler;this._transportErrorHandler=u.transport_error_handler||u.error_handler;this._connectionRetries=u.connection_retries||0;this._timeoutHandler=u.timeout_handler;this._timeout=u.timeout;this._serverDialogCancelHandler=u.server_dialog_cancel_handler||u.error_handler;this._deferredSend=m(this._batchSend,0,this);}l(r.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(t,u){if(p)return;if(typeof t=='undefined')t=null;var v=u||this._mode;if(v==q.IMMEDIATE){this._send(t);}else if(v==q.IDEMPOTENT){if(!this._inFlight)this._send(t);}else if(v==q.BATCH_SUCCESSIVE||v==q.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(t);}else this._batchData(t);}else if(v==q.BATCH_CONDITIONAL){var w=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,t)||this._combineDataIf(w,t))){this._batchData(t);}else this._send(t);}else if(v==q.BATCH_DEFERRED_MULTI){this._batchData(t);this._deferredSend();}else if(v==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(t);if(!this._inFlight)this._batchSend();}},_send:function(t){this._inFlight++;this._pendingRequestData=l({},t);if(this._requestUserID!=i.user)t.request_user_id=this._requestUserID;o.log('send',{endpoint:this._endpoint,data:t,inflight_count:this._inFlight});var u=null;if(i.worker_context){u=new h('POST',this._endpoint,t);u.onError=function(v){v.getPayload=function(){return v.errorText;};v.getRequest=function(){var w=v;v.getData=function(){return t;};return w;};v.getError=function(){return v.errorText;};v.getErrorDescription=function(){return v.errorText;};v.isTransient=function(){return false;};this._handleError(v);}.bind(this);u.onJSON=function(v){v.getPayload=function(){return v.json;};v.getRequest=function(){return u;};this._handleResponse(v);}.bind(this);u.getData=function(){return t;};u.send();}else{u=new g(this._endpoint).setData(t).setOption('retries',this._connectionRetries).setHandler(this._handleResponse.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._timeout&&this._timeoutHandler)u.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));u.send();}},_batchData:function(t,u){if(this._mode==q.BATCH_SUCCESSIVE_UNIQUE&&typeof this._pendingRequestData!='undefined'&&k(t,this._pendingRequestData)){return;}else{var v=this._batches.length-1;if(v>=0&&!this._hasReachedBatchLimit(this._batches[v])){u?this._batches[v].combineWithOlder(t,this._combineData):this._batches[v].combineWith(t,this._combineData);}else this._batches.push(new s(t));o.debug('batch',{endpoint:this._endpoint,batches:this._batches,batch_limit:this._batchSizeLimit});}},_hasReachedBatchLimit:function(t){return this._batchSizeLimit&&t.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(t){this._inFlight--;o.log('response',{endpoint:this._endpoint,inflight_count:this._inFlight});var u=t.getPayload();p=u&&u.kill_chat;if(p)o.log('killswitch_enabled',{endpoint:this._endpoint,inflight_count:this._inFlight});if(u&&u.error_payload){if(this._errorHandler)this._errorHandler(t);}else this._handler&&this._handler(u,t.getRequest());if(this._mode==q.BATCH_SUCCESSIVE||this._mode==q.BATCH_SUCCESSIVE_UNIQUE||this._mode==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==q.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){o.error('error',{endpoint:this._endpoint,inflight_count:this._inFlight-1});this._inFlight--;var t=this._mode;if(t==q.BATCH_SUCCESSIVE||t==q.BATCH_SUCCESSIVE_UNIQUE||t==q.BATCH_CONDITIONAL){this._batchSend();}else if(t==q.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function(t){this._errorHandler&&this._errorHandler(t);this._postErrorHandler();},_handleTransportError:function(t){this._transportErrorHandler&&this._transportErrorHandler(t);this._postErrorHandler();},_handleTimeout:function(t){this._timeoutHandler&&this._timeoutHandler(t);this._postErrorHandler();},_handleServerDialogCancel:function(t){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(t);this._postErrorHandler();}});function s(t){this._data=t;this._size=1;}l(s.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(t,u){this._data=u(this._data,t);this._size++;},combineWithOlder:function(t,u){this._data=u(t,this._data);this._size++;}});e.exports=q;});
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('emptyFunction'),i=b('ge'),j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;});
__d("BrowserSupport",["DOM","UserAgent"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('UserAgent'),i={},j=['Webkit','Moz','O','ms'],k=document.createElement('div'),l=function(n){if(i[n]===undefined){var o=null;if(n in k.style){o=n;}else for(var p=0;p<j.length;p++){var q=j[p]+n.charAt(0).toUpperCase()+n.slice(1);if(q in k.style){o=q;break;}}i[n]=o;}return i[n];},m={hasCSSAnimations:function(){return !!l('animationName');},hasCSSTransforms:function(){return !!l('transform');},hasCSS3DTransforms:function(){return !!l('perspective');},hasCSSTransitions:function(){return !!l('transition');},hasPositionSticky:function(){if(i.sticky===undefined){k.style.cssText='position:-webkit-sticky;position:-moz-sticky;'+'position:-o-sticky;position:-ms-sticky;position:sticky;';i.sticky=/sticky/.test(k.style.position);}return i.sticky;},hasPointerEvents:function(){if(i.pointerEvents===undefined)if(!('pointerEvents' in k.style)){i.pointerEvents=false;}else{k.style.pointerEvents='auto';k.style.pointerEvents='x';g.appendContent(document.documentElement,k);i.pointerEvents=window.getComputedStyle&&getComputedStyle(k,'').pointerEvents==='auto';g.remove(k);}return i.pointerEvents;},hasFileAPI:function(){if(i.fileAPI===undefined)i.fileAPI=!(h.webkit()&&!h.chrome()&&h.windows())&&'FileList' in window&&'FormData' in window;return i.fileAPI;},hasBlobFactory:function(){if(i.blobFactory===undefined)i.blobFactory=!!a.blob;return i.blobFactory;},getTransitionEndEvent:function(){if(i.transitionEnd===undefined){var n={transition:'transitionend',WebkitTransition:'webkitTransitionEnd',MozTransition:'mozTransitionEnd',OTransition:'oTransitionEnd'},o=l('transition');i.transitionEnd=n[o]||null;}return i.transitionEnd;}};e.exports=m;});
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style","shield"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Style'),l=b('shield'),m,n=[],o;function p(ga){if(a==this){return new p(ga);}else{this.obj=ga;this._reset_state();this.queue=[];this.last_attr=null;}}function q(ga){if(g.hasCSS3DTransforms()){return t(ga);}else return s(ga);}function r(ga){return ga.toFixed(8);}function s(ga){ga=[ga[0],ga[4],ga[1],ga[5],ga[12],ga[13]];return 'matrix('+ga.map(r).join(',')+')';}function t(ga){return 'matrix3d('+ga.map(r).join(',')+')';}function u(ga,ha){if(!ga)ga=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var ia=[];for(var ja=0;ja<4;ja++)for(var ka=0;ka<4;ka++){var la=0;for(var ma=0;ma<4;ma++)la+=ga[ja*4+ma]*ha[ma*4+ka];ia[ja*4+ka]=la;}return ia;}var v=0;p.prototype._reset_state=function(){this.state={attrs:{},duration:500};};p.prototype.stop=function(){this._reset_state();this.queue=[];return this;};p.prototype._build_container=function(){if(this.container_div){this._refresh_container();return;}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return;}var ga=document.createElement('div');ga.style.padding='0px';ga.style.margin='0px';ga.style.border='0px';ga.__animation_refs=1;var ha=this.obj.childNodes;while(ha.length)ga.appendChild(ha[0]);this.obj.appendChild(ga);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow='hidden';this.container_div=ga;this._refresh_container();};p.prototype._refresh_container=function(){this.container_div.style.height='auto';this.container_div.style.width='auto';this.container_div.style.height=this.container_div.offsetHeight+'px';this.container_div.style.width=this.container_div.offsetWidth+'px';};p.prototype._destroy_container=function(){if(!this.container_div)return;if(!--this.container_div.__animation_refs){var ga=this.container_div.childNodes;while(ga.length)this.obj.appendChild(ga[0]);this.obj.removeChild(this.container_div);}this.container_div=null;this.obj.style.overflow=this._orig_overflow;};var w=1,x=2,y=3;p.prototype._attr=function(ga,ha,ia){ga=ga.replace(/-[a-z]/gi,function(ka){return ka.substring(1).toUpperCase();});var ja=false;switch(ga){case 'background':this._attr('backgroundColor',ha,ia);return this;case 'backgroundColor':case 'borderColor':case 'color':ha=ca(ha);break;case 'opacity':ha=parseFloat(ha,10);break;case 'height':case 'width':if(ha=='auto'){ja=true;}else ha=parseInt(ha,10);break;case 'borderWidth':case 'lineHeight':case 'fontSize':case 'margin':case 'marginBottom':case 'marginLeft':case 'marginRight':case 'marginTop':case 'padding':case 'paddingBottom':case 'paddingLeft':case 'paddingRight':case 'paddingTop':case 'bottom':case 'left':case 'right':case 'top':case 'scrollTop':case 'scrollLeft':ha=parseInt(ha,10);break;case 'rotateX':case 'rotateY':case 'rotateZ':ha=parseInt(ha,10)*Math.PI/180;break;case 'translateX':case 'translateY':case 'translateZ':case 'scaleX':case 'scaleY':case 'scaleZ':ha=parseFloat(ha,10);break;case 'rotate3d':this._attr('rotateX',ha[0],ia);this._attr('rotateY',ha[1],ia);this._attr('rotateZ',ha[2],ia);return this;case 'rotate':this._attr('rotateZ',ha,ia);return this;case 'scale3d':this._attr('scaleZ',ha[2],ia);case 'scale':this._attr('scaleX',ha[0],ia);this._attr('scaleY',ha[1],ia);return this;case 'translate3d':this._attr('translateZ',ha[2],ia);case 'translate':this._attr('translateX',ha[0],ia);this._attr('translateY',ha[1],ia);return this;default:throw new Error(ga+' is not a supported attribute!');}if(this.state.attrs[ga]===undefined)this.state.attrs[ga]={};if(ja)this.state.attrs[ga].auto=true;switch(ia){case y:this.state.attrs[ga].start=ha;break;case x:this.state.attrs[ga].by=true;case w:this.state.attrs[ga].value=ha;break;}};function z(ga){var ha=parseInt(k.get(ga,'paddingLeft'),10),ia=parseInt(k.get(ga,'paddingRight'),10),ja=parseInt(k.get(ga,'borderLeftWidth'),10),ka=parseInt(k.get(ga,'borderRightWidth'),10);return ga.offsetWidth-(ha?ha:0)-(ia?ia:0)-(ja?ja:0)-(ka?ka:0);}function aa(ga){var ha=parseInt(k.get(ga,'paddingTop'),10),ia=parseInt(k.get(ga,'paddingBottom'),10),ja=parseInt(k.get(ga,'borderTopWidth'),10),ka=parseInt(k.get(ga,'borderBottomWidth'),10);return ga.offsetHeight-(ha?ha:0)-(ia?ia:0)-(ja?ja:0)-(ka?ka:0);}p.prototype.to=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,w);}else{this._attr(ga,ha,w);this.last_attr=ga;}return this;};p.prototype.by=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,x);}else{this._attr(ga,ha,x);this.last_attr=ga;}return this;};p.prototype.from=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,y);}else{this._attr(ga,ha,y);this.last_attr=ga;}return this;};p.prototype.duration=function(ga){this.state.duration=ga?ga:0;return this;};p.prototype.checkpoint=function(ga,ha){if(ga===undefined)ga=1;this.state.checkpoint=ga;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=ha;return this;};p.prototype.blind=function(){this.state.blind=true;return this;};p.prototype.hide=function(){this.state.hide=true;return this;};p.prototype.show=function(){this.state.show=true;return this;};p.prototype.ease=function(ga){this.state.ease=ga;return this;};p.prototype.go=function(){var ga=Date.now();this.queue.push(this.state);for(var ha=0;ha<this.queue.length;ha++){this.queue[ha].start=ga-v;if(this.queue[ha].checkpoint)ga+=this.queue[ha].checkpoint*this.queue[ha].duration;}da(this);return this;};p.prototype._show=function(){h.show(this.obj);};p.prototype._hide=function(){h.hide(this.obj);};p.prototype._frame=function(ga){var ha=true,ia=false,ja;function ka(db){return document.documentElement[db]||document.body[db];}for(var la=0;la<this.queue.length;la++){var ma=this.queue[la];if(ma.start>ga){ha=false;continue;}if(ma.checkpointcb){this._callback(ma.checkpointcb,ga-ma.start);ma.checkpointcb=null;}if(ma.started===undefined){if(ma.show)this._show();for(var na in ma.attrs){if(ma.attrs[na].start!==undefined)continue;switch(na){case 'backgroundColor':case 'borderColor':case 'color':ja=ca(k.get(this.obj,na=='borderColor'?'borderLeftColor':na));if(ma.attrs[na].by){ma.attrs[na].value[0]=Math.min(255,Math.max(0,ma.attrs[na].value[0]+ja[0]));ma.attrs[na].value[1]=Math.min(255,Math.max(0,ma.attrs[na].value[1]+ja[1]));ma.attrs[na].value[2]=Math.min(255,Math.max(0,ma.attrs[na].value[2]+ja[2]));}break;case 'opacity':ja=k.getOpacity(this.obj);if(ma.attrs[na].by)ma.attrs[na].value=Math.min(1,Math.max(0,ma.attrs[na].value+ja));break;case 'height':ja=aa(this.obj);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'width':ja=z(this.obj);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'scrollLeft':case 'scrollTop':ja=(this.obj===document.body)?ka(na):this.obj[na];if(ma.attrs[na].by)ma.attrs[na].value+=ja;ma['last'+na]=ja;break;case 'rotateX':case 'rotateY':case 'rotateZ':case 'translateX':case 'translateY':case 'translateZ':ja=i.get(this.obj,na,0);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'scaleX':case 'scaleY':case 'scaleZ':ja=i.get(this.obj,na,1);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;default:ja=parseInt(k.get(this.obj,na),10)||0;if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;}ma.attrs[na].start=ja;}if((ma.attrs.height&&ma.attrs.height.auto)||(ma.attrs.width&&ma.attrs.width.auto)){this._destroy_container();for(var na in {height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(ma.attrs[na])this.obj.style[na]=ma.attrs[na].value+(typeof ma.attrs[na].value=='number'?'px':'');if(ma.attrs.height&&ma.attrs.height.auto)ma.attrs.height.value=aa(this.obj);if(ma.attrs.width&&ma.attrs.width.auto)ma.attrs.width.value=z(this.obj);}ma.started=true;if(ma.blind)this._build_container();}var oa=(ga-ma.start)/ma.duration;if(oa>=1){oa=1;if(ma.hide)this._hide();}else ha=false;var pa=ma.ease?ma.ease(oa):oa;if(!ia&&oa!=1&&ma.blind)ia=true;for(var na in ma.attrs)switch(na){case 'backgroundColor':case 'borderColor':case 'color':if(ma.attrs[na].start[3]!=ma.attrs[na].value[3]){this.obj.style[na]='rgba('+ba(pa,ma.attrs[na].start[0],ma.attrs[na].value[0],true)+','+ba(pa,ma.attrs[na].start[1],ma.attrs[na].value[1],true)+','+ba(pa,ma.attrs[na].start[2],ma.attrs[na].value[2],true)+','+ba(pa,ma.attrs[na].start[3],ma.attrs[na].value[3],false)+')';}else this.obj.style[na]='rgb('+ba(pa,ma.attrs[na].start[0],ma.attrs[na].value[0],true)+','+ba(pa,ma.attrs[na].start[1],ma.attrs[na].value[1],true)+','+ba(pa,ma.attrs[na].start[2],ma.attrs[na].value[2],true)+')';break;case 'opacity':k.set(this.obj,'opacity',ba(pa,ma.attrs[na].start,ma.attrs[na].value));break;case 'height':case 'width':this.obj.style[na]=pa==1&&ma.attrs[na].auto?'auto':ba(pa,ma.attrs[na].start,ma.attrs[na].value,true)+'px';break;case 'scrollLeft':case 'scrollTop':var qa=this.obj===document.body;ja=qa?ka(na):this.obj[na];if(ma['last'+na]!==ja){delete ma.attrs[na];}else{var ra=ba(pa,ma.attrs[na].start,ma.attrs[na].value,true);if(!qa){ra=this.obj[na]=ra;}else{if(na=='scrollLeft'){a.scrollTo(ra,ka('scrollTop'));}else a.scrollTo(ka('scrollLeft'),ra);ra=ka(na);}ma['last'+na]=ra;}break;case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'rotateZ':case 'scaleX':case 'scaleY':case 'scaleZ':i.set(this.obj,na,ba(pa,ma.attrs[na].start,ma.attrs[na].value,false));break;default:this.obj.style[na]=ba(pa,ma.attrs[na].start,ma.attrs[na].value,true)+'px';break;}var sa=null,ta=i.get(this.obj,'translateX',0),ua=i.get(this.obj,'translateY',0),va=i.get(this.obj,'translateZ',0);if(ta||ua||va)sa=u(sa,[1,0,0,0,0,1,0,0,0,0,1,0,ta,ua,va,1]);var wa=i.get(this.obj,'scaleX',1),xa=i.get(this.obj,'scaleY',1),ya=i.get(this.obj,'scaleZ',1);if(wa-1||xa-1||ya-1)sa=u(sa,[wa,0,0,0,0,xa,0,0,0,0,ya,0,0,0,0,1]);var za=i.get(this.obj,'rotateX',0);if(za)sa=u(sa,[1,0,0,0,0,Math.cos(za),Math.sin(-za),0,0,Math.sin(za),Math.cos(za),0,0,0,0,1]);var ab=i.get(this.obj,'rotateY',0);if(ab)sa=u(sa,[Math.cos(ab),0,Math.sin(ab),0,0,1,0,0,Math.sin(-ab),0,Math.cos(ab),0,0,0,0,1]);var bb=i.get(this.obj,'rotateZ',0);if(bb)sa=u(sa,[Math.cos(bb),Math.sin(-bb),0,0,Math.sin(bb),Math.cos(bb),0,0,0,0,1,0,0,0,0,1]);if(sa){var cb=q(sa);k.apply(this.obj,{'-webkit-transform':cb,'-moz-transform':cb,'-ms-transform':cb,'-o-transform':cb,transform:cb});}else if(ha)k.apply(this.obj,{'-webkit-transform':null,'-moz-transform':null,'-ms-transform':null,'-o-transform':null,transform:null});if(oa==1){this.queue.splice(la--,1);this._callback(ma.ondone,ga-ma.start-ma.duration);}}if(!ia&&this.container_div)this._destroy_container();return !ha;};p.prototype.ondone=function(ga){this.state.ondone=ga;return this;};p.prototype._callback=function(ga,ha){if(ga){v=ha;ga.call(this);v=0;}};function ba(ga,ha,ia,ja){return (ja?parseInt:parseFloat)((ia-ha)*ga+ha,10);}function ca(ga){var ha=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(ga);if(ha){return [parseInt(ha[1].length==1?ha[1]+ha[1]:ha[1],16),parseInt(ha[2].length==1?ha[2]+ha[2]:ha[2],16),parseInt(ha[3].length==1?ha[3]+ha[3]:ha[3],16),1];}else{var ia=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(ga);if(ia){return [parseInt(ia[1],10),parseInt(ia[2],10),parseInt(ia[3],10),ia[4]?parseFloat(ia[4]):1];}else if(ga=='transparent'){return [255,255,255,0];}else throw 'Named color attributes are not supported.';}}function da(ga){n.push(ga);if(n.length===1){if(!m){var ha=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame;if(ha)m=ha.bind(a);}if(m){m(fa);}else o=setInterval(fa,20,false);}if(m)ea();fa(Date.now(),true);}function ea(){if(!m)throw new Error('Ending timer only valid with requestAnimationFrame');var ga=0;for(var ha=0;ha<n.length;ha++){var ia=n[ha];for(var ja=0;ja<ia.queue.length;ja++){var ka=ia.queue[ja].start+ia.queue[ja].duration;if(ka>ga)ga=ka;}}if(o){clearTimeout(o);o=null;}var la=Date.now();if(ga>la)o=setTimeout(l(fa),ga-la,false);}function fa(ga,ha){var ia=Date.now();for(var ja=(ha===true)?n.length-1:0;ja<n.length;ja++)try{if(!n[ja]._frame(ia))n.splice(ja--,1);}catch(ka){n.splice(ja--,1);}if(n.length===0){if(o){if(m){clearTimeout(o);}else clearInterval(o);o=null;}}else if(m)m(fa);}p.ease={};p.ease.begin=function(ga){return Math.sin(Math.PI/2*(ga-1))+1;};p.ease.end=function(ga){return Math.sin(.5*Math.PI*ga);};p.ease.both=function(ga){return .5*Math.sin(Math.PI*(ga-.5))+.5;};p.prependInsert=function(ga,ha){p.insert(ga,ha,j.prependContent);};p.appendInsert=function(ga,ha){p.insert(ga,ha,j.appendContent);};p.insert=function(ga,ha,ia){k.set(ha,'opacity',0);ia(ga,ha);new p(ha).from('opacity',0).to('opacity',1).duration(400).go();};e.exports=p;});
__d("CSSClassTransition",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=[];function i(){}g(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});e.exports=i;});
__d("Vector",["DOMDimensions","DOMPosition","Event","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMDimensions'),h=b('DOMPosition'),i=b('Event'),j=b('copyProperties');function k(l,m,n){j(this,{x:parseFloat(l),y:parseFloat(m),domain:n||'pure'});}k.prototype.toString=function(){return '('+this.x+', '+this.y+')';};k.prototype.add=function(l,m){if(arguments.length==1){if(l.domain!='pure')l=l.convertTo(this.domain);return this.add(l.x,l.y);}var n=parseFloat(l),o=parseFloat(m);return new k(this.x+n,this.y+o,this.domain);};k.prototype.mul=function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*l,this.y*m,this.domain);};k.prototype.div=function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*1/l,this.y*1/m,this.domain);};k.prototype.sub=function(l,m){if(arguments.length==1){return this.add(l.mul(-1));}else return this.add(-l,-m);};k.prototype.distanceTo=function(l){return this.sub(l).magnitude();};k.prototype.magnitude=function(){return Math.sqrt((this.x*this.x)+(this.y*this.y));};k.prototype.rotate=function(l){return new k(this.x*Math.cos(l)-this.y*Math.sin(l),this.x*Math.sin(l)+this.y*Math.cos(l));};k.prototype.convertTo=function(l){if(l!='pure'&&l!='viewport'&&l!='document')return new k(0,0);if(l==this.domain)return new k(this.x,this.y,this.domain);if(l=='pure')return new k(this.x,this.y);if(this.domain=='pure')return new k(0,0);var m=k.getScrollPosition('document'),n=this.x,o=this.y;if(this.domain=='document'){n-=m.x;o-=m.y;}else{n+=m.x;o+=m.y;}return new k(n,o,l);};k.prototype.setElementPosition=function(l){var m=this.convertTo('document');l.style.left=parseInt(m.x)+'px';l.style.top=parseInt(m.y)+'px';return this;};k.prototype.setElementDimensions=function(l){return this.setElementWidth(l).setElementHeight(l);};k.prototype.setElementWidth=function(l){l.style.width=parseInt(this.x,10)+'px';return this;};k.prototype.setElementHeight=function(l){l.style.height=parseInt(this.y,10)+'px';return this;};k.prototype.scrollElementBy=function(l){if(l==document.body){window.scrollBy(this.x,this.y);}else{l.scrollLeft+=this.x;l.scrollTop+=this.y;}return this;};k.getEventPosition=function(l,m){m=m||'document';var n=i.getPosition(l),o=new k(n.x,n.y,'document');return o.convertTo(m);};k.getScrollPosition=function(l){l=l||'document';var m=h.getScrollPosition();return new k(m.x,m.y,'document').convertTo(l);};k.getElementPosition=function(l,m){m=m||'document';var n=h.getElementPosition(l);return new k(n.x,n.y,'viewport').convertTo(m);};k.getElementDimensions=function(l){var m=g.getElementDimensions(l);return new k(m.width,m.height);};k.getViewportDimensions=function(){var l=g.getViewportDimensions();return new k(l.width,l.height,'viewport');};k.getDocumentDimensions=function(l){var m=g.getDocumentDimensions(l);return new k(m.width,m.height,'document');};k.deserialize=function(l){var m=l.split(',');return new k(m[0],m[1]);};e.exports=k;});
__d("ViewportBounds",["Style","Vector","emptyFunction","ge","removeFromArray"],function(a,b,c,d,e,f){var g=b('Style'),h=b('Vector'),i=b('emptyFunction'),j=b('ge'),k=b('removeFromArray'),l={top:[],right:[],bottom:[],left:[]};function m(q){return function(){var r=0;l[q].forEach(function(s){r=Math.max(r,s.getSize());});return r;};}function n(q){return function(r){return new o(q,r);};}function o(q,r){this.getSide=i.thatReturns(q);this.getSize=function(){return typeof r==='function'?r():r;};l[q].push(this);}o.prototype.remove=function(){k(l[this.getSide()],this);};var p={getTop:m('top'),getRight:m('right'),getBottom:m('bottom'),getLeft:m('left'),getElementPosition:function(q){var r=h.getElementPosition(q);r.y-=p.getTop();return r;},addTop:n('top'),addRight:n('right'),addBottom:n('bottom'),addLeft:n('left')};p.addTop(function(){var q=j('blueBar');if(q&&g.isFixed(q))return j('blueBarHolder').offsetHeight;return 0;});e.exports=p;});
__d("isAsyncScrollQuery",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=null;function i(){if(h===null)h=g.osx()>=10.8&&g.webkit()>=536.25&&!g.chrome();return h;}e.exports=i;});
__d("DOMScroll",["Animation","Arbiter","DOM","DOMQuery","Vector","ViewportBounds","ge","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('DOM'),j=b('DOMQuery'),k=b('Vector'),l=b('ViewportBounds'),m=b('ge'),n=b('isAsyncScrollQuery'),o={SCROLL:'dom-scroll',getScrollState:function(){var p=k.getViewportDimensions(),q=k.getDocumentDimensions(),r=(q.x>p.x),s=(q.y>p.y);r+=0;s+=0;return new k(r,s);},_scrollbarSize:null,_initScrollbarSize:function(){var p=i.create('p');p.style.width='100%';p.style.height='200px';var q=i.create('div');q.style.position='absolute';q.style.top='0px';q.style.left='0px';q.style.visibility='hidden';q.style.width='200px';q.style.height='150px';q.style.overflow='hidden';q.appendChild(p);document.body.appendChild(q);var r=p.offsetWidth;q.style.overflow='scroll';var s=p.offsetWidth;if(r==s)s=q.clientWidth;document.body.removeChild(q);o._scrollbarSize=r-s;},getScrollbarSize:function(){if(o._scrollbarSize===null)o._initScrollbarSize();return o._scrollbarSize;},scrollTo:function(p,q,r,s,t){if(typeof q=='undefined'||q===true)q=750;if(n())q=false;if(!(p instanceof k)){var u=k.getScrollPosition().x,v=k.getElementPosition(m(p)).y;p=new k(u,v,'document');if(!s)p.y-=l.getTop()/(r?2:1);}if(r){p.y-=k.getViewportDimensions().y/2;}else if(s){p.y-=k.getViewportDimensions().y;p.y+=s;}p=p.convertTo('document');if(q){return new g(document.body).to('scrollTop',p.y).to('scrollLeft',p.x).ease(g.ease.end).duration(q).ondone(t).go();}else if(window.scrollTo){window.scrollTo(p.x,p.y);t&&t();}h.inform(o.SCROLL);},ensureVisible:function(p,q,r,s,t){if(r===undefined)r=10;p=m(p);if(q)p=j.find(p,q);var u=k.getScrollPosition().x,v=k.getScrollPosition().y,w=v+k.getViewportDimensions().y,x=k.getElementPosition(p).y,y=x+k.getElementDimensions(p).y;x-=l.getTop();x-=r;y+=r;if(x<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else if(y>w)if(x-(y-w)<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else o.scrollTo(new k(u,y,'document'),s,false,true,t);},scrollToTop:function(p){var q=k.getScrollPosition();o.scrollTo(new k(q.x,0,'document'),p!==false);}};e.exports=o;});
__d("Button",["CSS","DataStore","DOM","Event","Parent","cx","emptyFunction"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DataStore'),i=b('DOM'),j=b('Event'),k=b('Parent'),l=b('cx'),m=b('emptyFunction'),n='uiButtonDisabled',o='uiButtonDepressed',p="_42fr",q="_42fs",r='button:blocker',s='href',t='ajaxify';function u(aa,ba){var ca=h.get(aa,r);if(ba){if(ca){ca.remove();h.remove(aa,r);}}else if(!ca)h.set(aa,r,j.listen(aa,'click',m.thatReturnsFalse,j.Priority.URGENT));}function v(aa){var ba=k.byClass(aa,'uiButton')||k.byClass(aa,"_42ft");if(!ba)throw new Error('invalid use case');return ba;}function w(aa){return i.isNodeOfType(aa,'a');}function x(aa){return i.isNodeOfType(aa,'button');}function y(aa){return g.hasClass(aa,"_42ft");}var z={getInputElement:function(aa){aa=v(aa);if(w(aa))throw new Error('invalid use case');return x(aa)?aa:i.find(aa,'input');},isEnabled:function(aa){return !(g.hasClass(v(aa),n)||g.hasClass(v(aa),p));},setEnabled:function(aa,ba){aa=v(aa);var ca=y(aa)?p:n;g.conditionClass(aa,ca,!ba);if(w(aa)){var da=aa.getAttribute('href'),ea=aa.getAttribute('ajaxify'),fa=h.get(aa,s,'#'),ga=h.get(aa,t);if(ba){if(!da)aa.setAttribute('href',fa);if(!ea&&ga)aa.setAttribute('ajaxify',ga);aa.removeAttribute('tabIndex');}else{if(da&&da!==fa)h.set(aa,s,da);if(ea&&ea!==ga)h.set(aa,t,ea);aa.removeAttribute('href');aa.removeAttribute('ajaxify');aa.setAttribute('tabIndex','-1');}u(aa,ba);}else{var ha=z.getInputElement(aa);ha.disabled=!ba;u(ha,ba);}},setDepressed:function(aa,ba){aa=v(aa);var ca=y(aa)?q:o;g.conditionClass(aa,ca,ba);},isDepressed:function(aa){aa=v(aa);var ba=y(aa)?q:o;return g.hasClass(aa,ba);},setLabel:function(aa,ba){aa=v(aa);if(y(aa)){var ca=[];if(ba)ca.push(ba);var da=i.scry(aa,'.img')[0];if(da)if(aa.firstChild==da){ca.unshift(da);}else ca.push(da);i.setContent(aa,ca);}else if(w(aa)){var ea=i.find(aa,'span.uiButtonText');i.setContent(ea,ba);}else z.getInputElement(aa).value=ba;var fa=y(aa)?"_42fv":'uiButtonNoText';g.conditionClass(aa,fa,!ba);},setIcon:function(aa,ba){if(ba&&!i.isNode(ba))return;aa=v(aa);var ca=i.scry(aa,'.img')[0];if(!ba){ca&&i.remove(ca);return;}g.addClass(ba,'customimg');if(ca!=ba)if(ca){i.replace(ca,ba);}else i.prependContent(aa,ba);}};e.exports=z;});
__d("Locale",["Style"],function(a,b,c,d,e,f){var g=b('Style'),h,i={isRTL:function(){if(h===undefined)h=('rtl'===g.get(document.body,'direction'));return h;}};e.exports=i;});
__d("getOverlayZIndex",["Style"],function(a,b,c,d,e,f){var g=b('Style');function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(g.get(m,'position')!='static'){var n=parseInt(g.get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}e.exports=h;});
__d("Dialog",["Animation","Arbiter","AsyncRequest","Bootloader","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","UserAgent","Vector","bind","copyProperties","createArrayFrom","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield","tx"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('AsyncRequest'),j=b('Bootloader'),k=b('Button'),l=b('ContextualThing'),m=b('CSS'),n=b('DOM'),o=b('Event'),p=b('Focus'),q=b('Form'),r=b('HTML'),s=b('Keys'),t=b('Locale'),u=b('Parent'),v=b('Run'),w=b('Style'),x=b('URI'),y=b('UserAgent'),z=b('Vector'),aa=b('bind'),ba=b('copyProperties'),ca=b('createArrayFrom'),da=b('emptyFunction'),ea=b('getObjectValues'),fa=b('getOverlayZIndex'),ga=b('removeFromArray'),ha=b('shield'),ia=b('tx'),ja=function(){var la=document.body,ma=document.createElement('div'),na=document.createElement('div');la.insertBefore(ma,la.firstChild);la.insertBefore(na,la.firstChild);ma.style.position='fixed';ma.style.top='20px';var oa=ma.offsetTop!==na.offsetTop;la.removeChild(ma);la.removeChild(na);ja=da.thatReturns(oa);return oa;};function ka(la){this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ka._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._shim=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(la)this._setFromModel(la);ka._init();}ka.prototype.show=function(){this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;};ka.prototype.showLoading=function(){this._loading=true;m.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;};ka.prototype.hide=function(){if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ka._stack.length<=1){this._fadeOut();}else this._hide();return this;};ka.prototype.cancel=function(){if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();};ka.prototype.getRoot=function(){return this._obj;};ka.prototype.getBody=function(){return n.scry(this._obj,'div.dialog_body')[0];};ka.prototype.getButtonElement=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);if(!la||!la.name)return null;var ma=n.scry(this._popup,'input'),na=function(oa){return oa.name==la.name;};return ma.filter(na)[0]||null;};ka.prototype.getContentNode=function(){return n.find(this._content,'div.dialog_content');};ka.prototype.getFormData=function(){return q.serialize(this.getContentNode());};ka.prototype.setAllowCrossPageTransition=function(la){this._cross_transition=la;return this;};ka.prototype.setAllowCrossQuicklingNavigation=function(la){this._cross_quickling=la;return this;};ka.prototype.setShowing=function(){this.show();return this;};ka.prototype.setHiding=function(){this.hide();return this;};ka.prototype.setTitle=function(la){var ma=this._nodes.title,na=this._nodes.title_inner,oa=this._nodes.content;n.setContent(na,this._format(la||''));m.conditionShow(ma,!!la);m.conditionClass(oa,'dialog_content_titleless',!la);return this;};ka.prototype.setBody=function(la){n.setContent(this._nodes.body,this._format(la));return this;};ka.prototype.setExtraData=function(la){this._extra_data=la;return this;};ka.prototype.setReturnData=function(la){this._return_data=la;return this;};ka.prototype.setShowLoading=function(la){this._show_loading=la;return this;};ka.prototype.setFullBleed=function(la){this._full_bleed=la;this._updateWidth();m.conditionClass(this._obj,'full_bleed',la);return this;};ka.prototype.setCausalElement=function(la){this._causal_elem=la;return this;};ka.prototype.setUserData=function(la){this._user_data=la;return this;};ka.prototype.getUserData=function(){return this._user_data;};ka.prototype.setAutohide=function(la){if(la){if(this._showing){this._autohide_timeout=setTimeout(ha(this.hide,this),la);}else this._autohide=la;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;};ka.prototype.setSummary=function(la){var ma=this._nodes.summary;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setButtons=function(la){var ma,na;if(!(la instanceof Array)){ma=ca(arguments);}else ma=la;for(var oa=0;oa<ma.length;++oa)if(typeof ma[oa]=='string'){na=ka._findButton(ka._STANDARD_BUTTONS,ma[oa]);ma[oa]=na;}this._buttons=ma;var pa=[];if(ma&&ma.length>0)for(var qa=0;qa<ma.length;qa++){na=ma[qa];var ra=n.create('input',{type:'button',name:na.name||'',value:na.label}),sa=n.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},ra);if(na.className){na.className.split(/\s+/).forEach(function(ua){m.addClass(sa,ua);});if(m.hasClass(sa,'inputaux')){m.removeClass(sa,'inputaux');m.removeClass(sa,'uiButtonConfirm');}if(m.hasClass(sa,'uiButtonSpecial'))m.removeClass(sa,'uiButtonConfirm');}if(na.icon)n.prependContent(sa,n.create('img',{src:na.icon,className:'img mrs'}));if(na.disabled)k.setEnabled(sa,false);o.listen(ra,'click',this._handleButton.bind(this,na.name));for(var ta in na)if(ta.indexOf('data-')===0&&ta.length>5)ra.setAttribute(ta,na[ta]);pa.push(sa);}n.setContent(this._nodes.buttons,pa);this._updateButtonVisibility();return this;};ka.prototype.setButtonsMessage=function(la){n.setContent(this._nodes.button_message,this._format(la||''));this._has_button_message=!!la;this._updateButtonVisibility();return this;};ka.prototype._updateButtonVisibility=function(){var la=this._buttons.length>0||this._has_button_message;m.conditionShow(this._nodes.button_wrapper,la);m.conditionClass(this._obj,'omitDialogFooter',!la);};ka.prototype.setClickButtonOnEnter=function(la,ma){this._clickOnEnterTarget=la;if(!this._clickOnEnterListener)this._clickOnEnterListener=o.listen(this._nodes.body,'keypress',function(event){var na=event.getTarget();if(na&&na.id===this._clickOnEnterTarget)if(o.getKeyCode(event)==s.RETURN){this._handleButton(ma);event.kill();}return true;}.bind(this));return this;};ka.prototype.setStackable=function(la,ma){this._is_stackable=la;this._shown_while_stacked=la&&ma;return this;};ka.prototype.setHandler=function(la){this._handler=la;return this;};ka.prototype.setCancelHandler=function(la){this._cancelHandler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.setCloseHandler=function(la){this._close_handler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.clearHandler=function(){return this.setHandler(null);};ka.prototype.setPostURI=function(la,ma){if(ma===undefined)ma=true;if(ma){this.setHandler(this._submitForm.bind(this,'POST',la));}else this.setHandler(function(){q.post(la,this.getFormData());this.hide();}.bind(this));return this;};ka.prototype.setGetURI=function(la){this.setHandler(this._submitForm.bind(this,'GET',la));return this;};ka.prototype.setModal=function(la){this._modal=la;m.conditionClass(this._obj,'generic_dialog_modal',la);return this;};ka.prototype.setSemiModal=function(la){if(la){this.setModal(true);this._semiModalListener=o.listen(this._obj,'click',function(ma){if(!n.contains(this._popup,ma.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=la;return this;};ka.prototype.setWideDialog=function(la){this._wide_dialog=la;this._updateWidth();return this;};ka.prototype.setContentWidth=function(la){this._content_width=la;this._updateWidth();return this;};ka.prototype.setTitleLoading=function(la){if(la===undefined)la=true;var ma=n.find(this._popup,'h2.dialog_title');if(ma)m.conditionClass(ma,'loading',la);return this;};ka.prototype.setSecure=function(la){m.conditionClass(this._nodes.title,'secure',la);return this;};ka.prototype.setClassName=function(la){la.split(/\s+/).forEach(m.addClass.bind(m,this._obj));return this;};ka.prototype.setFadeEnabled=function(la){this._fade_enabled=la;return this;};ka.prototype.setFooter=function(la){var ma=this._nodes.footer;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setAutoFocus=function(la){this._auto_focus=la;return this;};ka.prototype.setTop=function(la){this._top=la;this._resetDialogObj();return this;};ka.prototype.onloadRegister=function(la){ca(la).forEach(function(ma){if(typeof ma=='string')ma=new Function(ma);this._onload_handlers.push(ma.bind(this));}.bind(this));return this;};ka.prototype.setAsyncURL=function(la){return this.setAsync(new i(la));};ka.prototype.setAsync=function(la){var ma=function(ua){if(this._async_request!=la)return;this._async_request=null;var va=ua.getPayload(),wa=va;if(this._loading)this._showing=true;if(typeof wa=='string'){this.setBody(wa);}else this._setFromModel(wa);this._update();}.bind(this),na=la.getData();na.__d=1;la.setData(na);var oa=la.getHandler()||da;la.setHandler(function(ua){oa(ua);ma(ua);});var pa=la,qa=pa.getErrorHandler()||da,ra=pa.getTransportErrorHandler()||da,sa=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),ta=pa.getServerDialogCancelHandler()||sa;pa.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ua){sa();qa(ua);}).setTransportErrorHandler(function(ua){sa();ra(ua);}).setServerDialogCancelHandler(ta);la.send();this._async_request=la;if(this._showing)this.show();return this;};ka.prototype._format=function(la){if(typeof la=='string'){la=r(la);}else la=r.replaceJSONWrapper(la);if(la instanceof r)la.setDeferred(true);return la;};ka.prototype._update=function(){if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(aa(this,'hide'),this._autohide);m.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;p.set(this._frame);};ka.prototype._runOnloads=function(){for(var la=0;la<this._onload_handlers.length;++la)try{this._onload_handlers[la]();}catch(ma){}this._onload_handlers=[];};ka.prototype._updateWidth=function(){var la=2*ka._BORDER_WIDTH;if(ka._isUsingCSSBorders())la+=2*ka._HALO_WIDTH;if(this._content_width){la+=this._content_width;if(!this._full_bleed)la+=2*ka._PADDING_WIDTH;}else if(this._wide_dialog){la+=ka.SIZE.WIDE;}else la+=ka.SIZE.STANDARD;this._popup.style.width=la+'px';};ka.prototype._updateZIndex=function(){if(!this._hasSetZIndex&&this._causal_elem){var la=fa(this._causal_elem),ma=this._causal_elem;while(!la&&(ma=l.getContext(ma)))la=fa(ma);this._hasSetZIndex=la>(this._modal?400:200);w.set(this._obj,'z-index',this._hasSetZIndex?la:'');}};ka.prototype._renderDialog=function(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=(this._modal&&y.ie()<7)?z.getDocumentDimensions().y+'px':null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var la=q.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(la){q.focusFirst.bind(this,this._content).defer();}else this._submit_on_enter=true;}var ma=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms.push(ma);this._bottom=ma;ka._updateMaxBottom();return this;};ka.prototype._buildDialog=function(){this._obj=n.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';n.appendContent(document.body,this._obj);if(!this._popup)this._popup=n.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);if(y.ie()<7&&!this._shim)j.loadModules(['IframeShim'],function(xa){this._shim=new xa(this._popup);});m.addClass(this._obj,'pop_dialog');if(t.isRTL())m.addClass(this._obj,'pop_dialog_rtl');var la;if(ka._isUsingCSSBorders()){la='<div class="pop_container_advanced">'+'<div class="pop_content" id="pop_content"></div>'+'</div>';}else la='<div class="pop_container">'+'<div class="pop_verticalslab"></div>'+'<div class="pop_horizontalslab"></div>'+'<div class="pop_topleft"></div>'+'<div class="pop_topright"></div>'+'<div class="pop_bottomright"></div>'+'<div class="pop_bottomleft"></div>'+'<div class="pop_content pop_content_old" id="pop_content"></div>'+'</div>';n.setContent(this._popup,r(la));var ma=n.find(this._popup,'div.pop_content');ma.setAttribute('tabIndex','0');ma.setAttribute('role','alertdialog');this._frame=this._content=ma;var na=n.create('div',{className:'dialog_loading'},"Loading..."),oa=n.create('span'),pa=n.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},oa),qa=n.create('div',{className:'dialog_summary hidden_elem'}),ra=n.create('div',{className:'dialog_body'}),sa=n.create('div',{className:'rfloat mlm'}),ta=n.create('div',{className:'dialog_buttons_msg'}),ua=n.create('div',{className:'dialog_buttons clearfix hidden_elem'},[sa,ta]),va=n.create('div',{className:'dialog_footer hidden_elem'}),wa=n.create('div',{className:'dialog_content'},[qa,ra,ua,va]);this._nodes={summary:qa,body:ra,buttons:sa,button_message:ta,button_wrapper:ua,footer:va,content:wa,title:pa,title_inner:oa};n.setContent(this._frame,[pa,wa,na]);};ka.prototype._updateShim=function(){return this._shim&&this._shim.show();};ka.prototype._activeResize=function(){if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}};ka.prototype.resetDialogPosition=function(){if(!this._popup)return;this._resetDialogObj();this._updateShim();};ka.prototype._resetDialogObj=function(){var la=2*ka._PAGE_MARGIN,ma=z.getViewportDimensions(),na=ma.x-la,oa=ma.y-la,pa=2*ka._HALO_WIDTH,qa=z.getElementDimensions(this._content),ra=qa.x+pa,sa=qa.y+pa,ta=this._top,ua=na-ra,va=oa-sa;if(va<0){ta=ka._PAGE_MARGIN;}else if(ta>va)ta=ka._PAGE_MARGIN+(Math.max(va,0)/2);var wa=ja();if(!wa)ta+=z.getScrollPosition().y;w.set(this._popup,'marginTop',ta+'px');var xa=wa&&(ua<0||va<0);m.conditionClass(this._obj,'generic_dialog_fixed_overflow',xa);m.conditionClass(document.documentElement,'generic_dialog_overflow_mode',xa);};ka.prototype._fadeOut=function(la){if(!this._popup)return;try{new g(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,la)).go();}catch(ma){this._hide(la);}};ka.prototype._hide=function(la){if(this._obj)this._obj.style.display='none';m.removeClass(document.documentElement,'generic_dialog_overflow_mode');this._updateShim();clearInterval(this.active_hiding);if(this._bottom){var ma=ka._bottoms;ma.splice(ma.indexOf(this._bottom),1);ka._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&n.contains(this._obj,document.activeElement))p.set(this._previous_focus);if(la)return;this.destroy();};ka.prototype.destroy=function(){this._popFromStack();clearInterval(this.active_hiding);if(this._obj){n.remove(this._obj);this._obj=null;this._shim&&this._shim.hide();this._shim=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});};ka.prototype._handleButton=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);var ma=ka.call_or_eval(la,la.handler);if(ma===false)return;if(la.name=='cancel'){this.cancel();}else if(ka.call_or_eval(this,this._handler,{button:la})!==false)this.hide();};ka.prototype._submitForm=function(la,ma,na){var oa=this.getFormData();if(na)oa[na.name]=na.label;if(this._extra_data)ba(oa,this._extra_data);var pa=new i().setURI(ma).setData(oa).setMethod(la).setNectarModuleDataSafe(this._causal_elem).setReadOnly(la=='GET');this.setAsync(pa);return false;};ka.prototype._setFromModel=function(la){var ma={};ba(ma,la);for(var na in ma){if(na=='onloadRegister'){this.onloadRegister(ma[na]);continue;}var oa=this['set'+na.substr(0,1).toUpperCase()+na.substr(1)];oa.apply(this,ca(ma[na]));}};ka.prototype._updateBottom=function(){var la=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms[ka._bottoms.length-1]=la;ka._updateMaxBottom();};ka.prototype._pushOntoStack=function(){var la=ka._stack;if(!la.length)h.inform('layer_shown',{type:'Dialog'});ga(la,this);la.push(this);for(var ma=la.length-2;ma>=0;ma--){var na=la[ma];if(!na._is_stackable&&!na._async_request){na._hide();}else if(!na._shown_while_stacked)na._hide(true);}};ka.prototype._popFromStack=function(){var la=ka._stack,ma=(la[la.length-1]===this);ga(la,this);if(la.length){if(ma)la[la.length-1].show();}else h.inform('layer_hidden',{type:'Dialog'});};ka._updateMaxBottom=function(){ka.max_bottom=Math.max.apply(Math,ka._bottoms);};ka._isUsingCSSBorders=function(){return y.ie()<7;};ka.newButton=function(la,ma,na,oa){var pa={name:la,label:ma};if(na)pa.className=na;if(oa)pa.handler=oa;return pa;};ka.getCurrent=function(){var la=ka._stack;return la.length?la[la.length-1]:null;};ka.hideCurrent=function(){var la=ka.getCurrent();la&&la.hide();};ka.bootstrap=function(la,ma,na,oa,pa,qa){ma=ma||{};ba(ma,new x(la).getQueryData());oa=oa||(na?'GET':'POST');var ra=u.byClass(qa,'stat_elem')||qa;if(ra&&m.hasClass(ra,'async_saving'))return false;var sa=new i().setReadOnly(!!na).setMethod(oa).setRelativeTo(qa).setStatusElement(ra).setURI(la).setNectarModuleDataSafe(qa).setData(ma),ta=new ka(pa).setCausalElement(qa).setAsync(sa);ta.show();return false;};ka.showFromModel=function(la,ma){var na=new ka(la).setCausalElement(ma).show();if(la.hiding)na.hide();};ka._init=function(){this._init=da;v.onLeave(ha(ka._tearDown,null,false));h.subscribe('page_transition',ha(ka._tearDown,null,true));o.listen(document.documentElement,'keydown',function(event){if(o.getKeyCode(event)==s.ESC&&!event.getModifiers().any){if(ka._escape())event.kill();}else if(o.getKeyCode(event)==s.RETURN&&!event.getModifiers().any)if(ka._enter())event.kill();});o.listen(window,'resize',function(event){var la=ka.getCurrent();la&&la._resetDialogObj();});};ka._findButton=function(la,ma){if(la)for(var na=0;na<la.length;++na)if(la[na].name==ma)return la[na];return null;};ka._tearDown=function(la){var ma=ka._stack.slice();for(var na=ma.length-1;na>=0;na--)if((la&&!ma[na]._cross_transition)||(!la&&!ma[na]._cross_quickling))ma[na].hide();};ka._escape=function(){var la=ka.getCurrent();if(!la)return false;var ma=la._semi_modal,na=la._buttons;if(!na.length&&!ma)return false;if(ma&&!na.length){la.hide();return true;}var oa,pa=ka._findButton(na,'cancel');if(la._cancelHandler){la.cancel();return true;}else if(pa){oa=pa;}else if(na.length==1){oa=na[0];}else return false;la._handleButton(oa);return true;};ka._enter=function(){var la=ka.getCurrent();if(!la||!la._submit_on_enter)return false;if(document.activeElement!=la._frame)return false;var ma=la._buttons;if(!ma)return false;la._handleButton(ma[0]);return true;};ka.call_or_eval=function(la,ma,na){if(!ma)return undefined;na=na||{};if(typeof ma=='string'){var oa=Object.keys(na).join(', ');ma=(eval)('({f: function('+oa+') { '+ma+'}})').f;}return ma.apply(la,ea(na));};ba(ka,{OK:{name:'ok',label:"Okay"},CANCEL:{name:'cancel',label:"Cancel",className:'inputaux'},CLOSE:{name:'close',label:"Close"},NEXT:{name:'next',label:"Next"},SAVE:{name:'save',label:"Save"},SUBMIT:{name:'submit',label:"Submit"},CONFIRM:{name:'confirm',label:"Confirm"},DELETE:{name:'delete',label:"Delete"},_globalCount:0,_bottoms:[0],max_bottom:0});ba(ka,{OK_AND_CANCEL:[ka.OK,ka.CANCEL],_STANDARD_BUTTONS:[ka.OK,ka.CANCEL,ka.CLOSE,ka.SAVE,ka.SUBMIT,ka.CONFIRM,ka.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});ba(ka.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});e.exports=ka;a.Dialog=ka;});
__d("HistoryManager",["Event","function-extensions","Cookie","Env","URI","UserAgent","copyProperties","emptyFunction","goOrReplace","isInIframe"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Cookie'),i=b('Env'),j=b('URI'),k=b('UserAgent'),l=b('copyProperties'),m=b('emptyFunction'),n=b('goOrReplace'),o=b('isInIframe'),p={_IFRAME_BASE_URI:'http://static.ak.facebook.com/common/history_manager.php',history:null,current:0,fragment:null,_setIframeSrcFragment:function(q){q=q.toString();var r=p.history.length-1;p.iframe.src=p._IFRAME_BASE_URI+'?|index='+r+'#'+encodeURIComponent(q);return p;},getIframeSrcFragment:function(){return decodeURIComponent(j(p.iframe.contentWindow.document.location.href).getFragment());},nextframe:function(q,r){if(r){p._setIframeSrcFragment(q);return;}if(q!==undefined){p.iframeQueue.push(q);}else{p.iframeQueue.splice(0,1);p.iframeTimeout=null;p.checkURI();}if(p.iframeQueue.length&&!p.iframeTimeout){var s=p.iframeQueue[0];p.iframeTimeout=setTimeout(function(){p._setIframeSrcFragment(s);},100,false);}},isInitialized:function(){return !!p._initialized;},init:function(){if(!i.ALLOW_TRANSITION_IN_IFRAME&&o())return;if(p._initialized)return p;var q=j(),r=q.getFragment()||'';if(r.charAt(0)==='!'){r=r.substr(1);q.setFragment(r);}if(j.getRequestURI(false).getProtocol().toLowerCase()=='https')p._IFRAME_BASE_URI='https://s-static.ak.facebook.com/common/history_manager.php';l(p,{_initialized:true,fragment:r,orig_fragment:r,history:[q],callbacks:[],lastChanged:Date.now(),canonical:j('#'),fragmentTimeout:null,user:0,iframeTimeout:null,iframeQueue:[],enabled:true,debug:m});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);g.listen(window,'popstate',function(s){if(s&&s.state&&p.lastURI!=s.state){p.lastURI=s.state;p.lastChanged=Date.now();p.notify(j(s.state).getUnqualifiedURI().toString());}}.bind(p));if(k.webkit()<534||k.chrome()<=13){setInterval(p.checkURI,42,false);p._updateRefererURI(this.lastURI);}return p;}p._updateRefererURI(j.getRequestURI(false));if(k.webkit()<500||k.firefox()<2){p.enabled=false;return p;}if(k.ie()<8){p.iframe=document.createElement('iframe');l(p.iframe.style,{width:'0',height:'0',frameborder:'0',left:'0',top:'0',position:'absolute'});p._setIframeSrcFragment(r);document.body.insertBefore(p.iframe,document.body.firstChild);}else if('onhashchange' in window){g.listen(window,'hashchange',function(){p.checkURI.bind(p).defer();});}else setInterval(p.checkURI,42,false);return p;},registerURIHandler:function(q){p.callbacks.push(q);return p;},setCanonicalLocation:function(q){p.canonical=j(q);return p;},notify:function(q){if(q==p.orig_fragment)q=p.canonical.getFragment();for(var r=0;r<p.callbacks.length;r++)try{if(p.callbacks[r](q))return true;}catch(s){}return false;},checkURI:function(){if(Date.now()-p.lastChanged<400)return;if(window.history&&history.pushState){var q=j(document.URL).removeQueryData('ref').toString(),r=j(p.lastURI).removeQueryData('ref').toString();if(q!=r){p.lastChanged=Date.now();p.lastURI=q;if(k.webkit()<534)p._updateRefererURI(q);p.notify(j(q).getUnqualifiedURI().toString());}return;}if(k.ie()<8&&p.iframeQueue.length)return;if(k.webkit()&&window.history.length==200){if(!p.warned)p.warned=true;return;}var s=j().getFragment();if(s.charAt(0)=='!')s=s.substr(1);if(k.ie()<8)s=p.getIframeSrcFragment();s=s.replace(/%23/g,'#');if(s!=p.fragment.replace(/%23/g,'#')){p.debug([s,' vs ',p.fragment,'whl: ',window.history.length,'QHL: ',p.history.length].join(' '));for(var t=p.history.length-1;t>=0;--t)if(p.history[t].getFragment().replace(/%23/g,'#')==s)break;++p.user;if(t>=0){p.go(t-p.current);}else p.go('#'+s);--p.user;}},_updateRefererURI:function(q){q=q.toString();if(q.charAt(0)!='/'&&q.indexOf('//')==-1)return;var r=new j(window.location);if(r.isFacebookURI()){var s=r.getPath()+window.location.search;}else var s='';var t=j(q).getQualifiedURI().setFragment(s).toString(),u=2048;if(t.length>u)t=t.substring(0,u)+'...';h.set('x-referer',t);},go:function(q,r,s){if(window.history&&history.pushState){r||typeof(q)=='number';var t=j(q).removeQueryData('ref').toString();p.lastChanged=Date.now();this.lastURI=t;if(s){window.history.replaceState(q,null,t);}else window.history.pushState(q,null,t);if(k.webkit()<534)p._updateRefererURI(q);return false;}p.debug('go: '+q);if(r===undefined)r=true;if(!p.enabled)if(!r)return false;if(typeof(q)=='number'){if(!q)return false;var u=q+p.current,v=Math.max(0,Math.min(p.history.length-1,u));p.current=v;u=p.history[v].getFragment()||p.orig_fragment;u=j(u).removeQueryData('ref').getUnqualifiedURI().toString();p.fragment=u;p.lastChanged=Date.now();if(k.ie()<8){if(p.fragmentTimeout)clearTimeout(p.fragmentTimeout);p._temporary_fragment=u;p.fragmentTimeout=setTimeout(function(){window.location.hash='#!'+u;delete p._temporary_fragment;},750,false);if(!p.user)p.nextframe(u,s);}else if(!p.user)n(window.location,window.location.href.split('#')[0]+'#!'+u,s);if(r)p.notify(u);p._updateRefererURI(u);return false;}q=j(q);if(q.getDomain()==j().getDomain())q=j('#'+q.getUnqualifiedURI());var w=p.history[p.current].getFragment(),x=q.getFragment();if(x==w||(w==p.orig_fragment&&x==p.canonical.getFragment())){if(r)p.notify(x);p._updateRefererURI(x);return false;}if(s)p.current--;var y=(p.history.length-p.current)-1;p.history.splice(p.current+1,y);p.history.push(j(q));return p.go(1,r,s);},getCurrentFragment:function(){var q=p._temporary_fragment!==undefined?p._temporary_fragment:j.getRequestURI(false).getFragment();return q==p.orig_fragment?p.canonical.getFragment():q;}};e.exports=p;});
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DataStore'),i=b('Parent'),j=b('trackReferrer'),k='LinkControllerHandler',l=[],m=[];function n(event){var r=i.byTag(event.getTarget(),'a'),s=r&&r.getAttribute('href',2);if(!s||r.rel||!p(s)||h.get(r,k))return;var t=g.listen(r,'click',function(u){if(s.charAt(s.length-1)=='#'){u.prevent();return;}j(r,s);o(r,u);});h.set(r,k,t);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;});
__d("MenuDeprecated",["Event","Arbiter","CSS","DataStore","DOM","HTML","Keys","Parent","Style","UserAgent","copyProperties","emptyFunction","Run"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('HTML'),m=b('Keys'),n=b('Parent'),o=b('Style'),p=b('UserAgent'),q=b('copyProperties'),r=b('emptyFunction'),s='menu:mouseover',t=null;function u(ea){if(i.hasClass(ea,'uiMenuContainer'))return ea;return n.byClass(ea,'uiMenu');}function v(ea){return n.byClass(ea,'uiMenuItem');}function w(ea){if(document.activeElement){var fa=v(document.activeElement);return ea.indexOf(fa);}return -1;}function x(ea){return k.find(ea,'a.itemAnchor');}function y(ea){return i.hasClass(ea,'checked');}function z(ea){return !i.hasClass(ea,'disabled')&&o.get(ea,'display')!=='none';}function aa(event){var ea=document.activeElement;if(!ea||!n.byClass(ea,'uiMenu')||!k.isInputNode(ea)){var fa=v(event.getTarget());fa&&da.focusItem(fa);}}function ba(ea){p.firefox()&&x(ea).blur();da.inform('select',{menu:u(ea),item:ea});}var ca=function(){ca=r;var ea={};ea.click=function(event){var fa=v(event.getTarget());if(fa&&z(fa)){ba(fa);var ga=x(fa),ha=ga.href,ia=ga.getAttribute('rel');return (ia&&ia!=='ignore')||(ha&&ha.charAt(ha.length-1)!=='#');}};ea.keydown=function(event){var fa=event.getTarget();if(event.getModifiers().any)return;if(!t||k.isInputNode(fa))return;var ga=g.getKeyCode(event),ha;switch(ga){case m.UP:case m.DOWN:var ia=da.getEnabledItems(t);ha=w(ia);da.focusItem(ia[ha+(ga===m.UP?-1:1)]);return false;case m.SPACE:var ja=v(fa);if(ja){ba(ja);event.prevent();}break;default:var ka=String.fromCharCode(ga).toLowerCase(),la=da.getEnabledItems(t);ha=w(la);var ma=ha,na=la.length;while((~ha&&(ma=++ma%na)!==ha)||(!~ha&&++ma<na)){var oa=da.getItemLabel(la[ma]);if(oa&&oa.charAt(0).toLowerCase()===ka){da.focusItem(la[ma]);return false;}}}};g.listen(document.body,ea);},da=q(new h(),{focusItem:function(ea){if(ea&&z(ea)){this._removeSelected(u(ea));i.addClass(ea,'selected');x(ea).focus();}},getEnabledItems:function(ea){return da.getItems(ea).filter(z);},getCheckedItems:function(ea){return da.getItems(ea).filter(y);},getItems:function(ea){return k.scry(ea,'li.uiMenuItem');},getItemLabel:function(ea){return ea.getAttribute('data-label',2)||'';},isItemChecked:function(ea){return i.hasClass(ea,'checked');},autoregister:function(ea,fa,ga){ea.subscribe('show',function(){da.register(fa,ga);});ea.subscribe('hide',function(){da.unregister(fa);});},register:function(ea,fa){ea=u(ea);ca();if(!j.get(ea,s))j.set(ea,s,g.listen(ea,'mouseover',aa));if(fa!==false)t=ea;},setItemEnabled:function(ea,fa){if(!fa&&!k.scry(ea,'span.disabledAnchor')[0])k.appendContent(ea,k.create('span',{className:k.find(ea,'a').className+' disabledAnchor'},l(x(ea).innerHTML)));i.conditionClass(ea,'disabled',!fa);},toggleItem:function(ea){var fa=!da.isItemChecked(ea);da.setItemChecked(ea,fa);},setItemChecked:function(ea,fa){i.conditionClass(ea,'checked',fa);x(ea).setAttribute('aria-checked',fa);},unregister:function(ea){ea=u(ea);var fa=j.remove(ea,s);fa&&fa.remove();t=null;this._removeSelected(ea);},_removeSelected:function(ea){da.getItems(ea).filter(function(fa){return i.hasClass(fa,'selected');}).forEach(function(fa){i.removeClass(fa,'selected');});}});e.exports=da;});
__d("OnloadHooks",["Arbiter","ErrorUtils","InitialJSLoader","OnloadEvent"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ErrorUtils'),i=b('InitialJSLoader'),j=b('OnloadEvent');function k(){var r=a.CavalryLogger;if(!window.loaded&&r)r.getInstance().setTimeStamp('t_prehooks');n('onloadhooks');if(!window.loaded&&r)r.getInstance().setTimeStamp('t_hooks');window.loaded=true;g.inform('uipage_onload',true,g.BEHAVIOR_STATE);}function l(){n('onafterloadhooks');window.afterloaded=true;}function m(r,s){return h.applyWithGuard(r,null,null,function(t){t.event_type=s;t.category='runhook';});}function n(r){var s=(r=='onbeforeleavehooks')||(r=='onbeforeunloadhooks');do{var t=window[r];if(!t)break;if(!s)window[r]=null;for(var u=0;u<t.length;u++){var v=m(t[u],r);if(s&&v)return v;}}while(!s&&window[r]);}function o(){if(!window.loaded){window.loaded=true;n('onloadhooks');}if(!window.afterloaded){window.afterloaded=true;n('onafterloadhooks');}}function p(){g.registerCallback(k,[j.ONLOAD_DOMCONTENT_CALLBACK,i.INITIAL_JS_READY]);g.registerCallback(l,[j.ONLOAD_DOMCONTENT_CALLBACK,j.ONLOAD_CALLBACK,i.INITIAL_JS_READY]);g.subscribe(j.ONBEFOREUNLOAD,function(r,s){s.warn=n('onbeforeleavehooks')||n('onbeforeunloadhooks');if(!s.warn){window.loaded=false;window.afterloaded=false;}},g.SUBSCRIBE_NEW);g.subscribe(j.ONUNLOAD,function(r,s){n('onunloadhooks');n('onafterunloadhooks');},g.SUBSCRIBE_NEW);}var q={_onloadHook:k,_onafterloadHook:l,runHook:m,runHooks:n,keepWindowSetAsLoaded:o};p();a.OnloadHooks=e.exports=q;});
__d("areEqual",[],function(a,b,c,d,e,f){var g=function(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!g(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!g(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;},h=[],i=[],j=function(k,l){var m=h.length?h.pop():[],n=i.length?i.pop():[],o=g(k,l,m,n);m.length=0;n.length=0;h.push(m);i.push(n);return o;};e.exports=j;});
__d("computeRelativeURI",["URI","isEmpty"],function(a,b,c,d,e,f){var g=b('URI'),h=b('isEmpty');function i(k,l){if(!l)return k;if(l.charAt(0)=='/')return l;var m=k.split('/').slice(0,-1);m[0]!=='';l.split('/').forEach(function(n){if(!(n=='.'))if(n=='..'){if(m.length>1)m=m.slice(0,-1);}else m.push(n);});return m.join('/');}function j(k,l){var m=new g(),n=l;k=new g(k);l=new g(l);if(l.getDomain()&&!l.isFacebookURI())return n;var o=k,p=['Protocol','Domain','Port','Path','QueryData','Fragment'];p.forEach(function(q){var r=q=='Path'&&o===k;if(r)m.setPath(i(k.getPath(),l.getPath()));if(!h(l['get'+q]()))o=l;if(!r)m['set'+q](o['get'+q]());});return m;}e.exports=j;});
__d("PageTransitions",["Arbiter","Dialog","DOMQuery","DOMScroll","Env","Event","Form","HistoryManager","JSLogger","LinkController","OnloadHooks","Parent","URI","UserAgent","Vector","areEqual","clickRefAction","computeRelativeURI","copyProperties","escapeJSQuotes","ge","goOrReplace","htmlize","isInIframe","setTimeoutAcrossTransitions","startsWith","tx","userAction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Dialog'),i=b('DOMQuery'),j=b('DOMScroll'),k=b('Env'),l=b('Event'),m=b('Form'),n=b('HistoryManager'),o=b('JSLogger'),p=b('LinkController'),q=b('OnloadHooks'),r=b('Parent'),s=b('URI'),t=b('UserAgent'),u=b('Vector'),v=b('areEqual'),w=b('clickRefAction'),x=b('computeRelativeURI'),y=b('copyProperties'),z=b('escapeJSQuotes'),aa=b('ge'),ba=b('goOrReplace'),ca=b('htmlize'),da=b('isInIframe'),ea=b('setTimeoutAcrossTransitions'),fa=b('startsWith'),ga=b('tx'),ha=b('userAction'),ia={};function ja(ua,va){ia[ua.getUnqualifiedURI()]=va;}function ka(ua){return ia[ua.getUnqualifiedURI()];}function la(ua){delete ia[ua.getUnqualifiedURI()];}var ma=null,na=null;function oa(ua){na=ua;ea(function(){na=null;},0);}function pa(event){if(na){if(!event.isDefaultPrevented()){qa(na);ta.lookBusy(na);sa.go(na.getAttribute('href'));}event.prevent();}else{ma=event.getTarget();ea(function(){ma=null;},0);}}function qa(ua){var va=ua.getAttribute('href'),wa=x(sa._most_recent_uri.getQualifiedURI(),va).toString();if(va!=wa)ua.setAttribute('href',wa);}function ra(event){var ua=event.getTarget();if(m.getAttribute(ua,'rel')||m.getAttribute(ua,'target'))return;w('form',ua,event).set_namespace('page_transition');var va=ha('page_transitions',ua,event,{mode:'DEDUP'}).uai_fallback(null,'form'),wa=new s(m.getAttribute(ua,'action')||''),xa=x(sa._most_recent_uri,wa);ua.setAttribute('action',xa.toString());if((m.getAttribute(ua,'method')||'GET').toUpperCase()==='GET'){var ya=m.serialize(ua),za=ma;if(za&&(i.isNodeOfType(za,'input')&&za.type==='submit'||(za=r.byTag(za,'button')))&&za.name)ya[za.name]=za.value;sa.go(xa.addQueryData(ya));event.kill();}}var sa={_transition_handlers:[],_scroll_locked:false,isInitialized:function(){return !!sa._initialized;},_init:function(){if(k.DISABLE_PAGE_TRANSITIONS)return;if(!k.ALLOW_TRANSITION_IN_IFRAME&&da())return;if(sa._initialized)return sa;sa._initialized=true;var ua=s.getRequestURI(false),va=ua.getUnqualifiedURI(),wa=s(va).setFragment(null),xa=va.getFragment();if(xa.charAt(0)==='!'&&wa.toString()===xa.substr(1))va=wa;y(sa,{_current_uri:va,_most_recent_uri:va,_next_uri:va});var ya;if(fa(ua.getFragment(),'/')){ya=ua.getFragment();}else ya=va;n.init().setCanonicalLocation('#'+ya).registerURIHandler(sa._historyManagerHandler);p.registerFallbackHandler(oa);l.listen(document,'click',pa,l.Priority._BUBBLE);l.listen(document,'submit',ra,l.Priority._BUBBLE);l.listen(window,'scroll',function(){if(!sa._scroll_locked)ja(sa._current_uri,u.getScrollPosition());});return sa;},registerHandler:function(ua,va){sa._init();va=va||5;if(!sa._transition_handlers[va])sa._transition_handlers[va]=[];sa._transition_handlers[va].push(ua);},getCurrentURI:function(ua){if(!sa._current_uri&&!ua)return new s(sa._most_recent_uri);return new s(sa._current_uri);},getMostRecentURI:function(){return new s(sa._most_recent_uri);},getNextURI:function(){return new s(sa._next_uri);},go:function(ua,va){var wa=new s(ua).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:wa.toString()});la(wa);!va&&w('uri',{href:wa.toString()},null,'INDIRECT');ta.lookBusy();sa._loadPage(wa,function(xa){if(xa){n.go(wa.toString(),false,va);}else ba(window.location,wa,va);});},_historyManagerHandler:function(ua){if(ua.charAt(0)!='/')return false;w('h',{href:ua});ha('page_transitions').uai(null,'history_manager');sa._loadPage(new s(ua),function(va){if(!va)ba(window.location,ua,true);});return true;},_loadPage:function(ua,va){if(s(ua).getFragment()&&v(s(ua).setFragment(null).getQualifiedURI(),s(sa._current_uri).setFragment(null).getQualifiedURI())){g.inform("pre_page_fragment_transition",{from:s(sa._current_uri).getFragment(),to:s(ua).getFragment()});if(sa.restoreScrollPosition(ua)){sa._current_uri=sa._most_recent_uri=ua;ta.stopLookingBusy();g.inform("page_fragment_transition",{fragment:s(ua).getFragment()});return;}}var wa;if(sa._current_uri)wa=ka(sa._current_uri);sa._current_uri=null;sa._next_uri=ua;if(wa)j.scrollTo(wa,false);var xa=function(){sa._scroll_locked=true;var za=sa._handleTransition(ua);va&&va(za);},ya=q.runHooks('onbeforeleavehooks');if(ya){ta.stopLookingBusy();sa._warnBeforeLeaving(ya,xa);}else xa();},_handleTransition:function(ua){window.onbeforeleavehooks=undefined;ta.lookBusy();if(!ua.isSameOrigin())return false;var va,wa=a.AsyncRequest;if(wa)va=wa.getLastID();g.inform("pre_page_transition",{from:sa.getMostRecentURI(),to:ua});for(var xa=sa._transition_handlers.length-1;xa>=0;--xa){var ya=sa._transition_handlers[xa];if(!ya)continue;for(var za=ya.length-1;za>=0;--za)if(ya[za](ua)===true){var ab={sender:this,uri:ua,id:va};try{g.inform("page_transition",ab);}catch(bb){}return true;}else ya.splice(za,1);}return false;},unifyURI:function(){sa._current_uri=sa._most_recent_uri=sa._next_uri;},transitionComplete:function(ua){sa._executeCompletionCallback();ta.stopLookingBusy();sa.unifyURI();if(!ua)sa.restoreScrollPosition(sa._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(va){}},_executeCompletionCallback:function(){if(sa._completionCallback)sa._completionCallback();sa._completionCallback=null;},setCompletionCallback:function(ua){sa._completionCallback=ua;},rewriteCurrentURI:function(ua,va){sa.registerHandler(function(){if(ua==sa.getMostRecentURI().getUnqualifiedURI().toString()){sa.transitionComplete();return true;}});sa.go(va,true);},_warnBeforeLeaving:function(ua,va){new h().setTitle("Are you sure you want to leave this page?").setBody(ca(ua)).setButtons([{name:'leave_page',label:"Leave this Page",handler:va},{name:'continue_editing',label:"Stay on this Page",className:'inputaux'}]).setModal(true).show();},restoreScrollPosition:function(ua){sa._scroll_locked=false;var va=ka(ua);if(va){j.scrollTo(va,false);return true;}function wa(za){if(!za)return null;var ab="a[name='"+z(za)+"']";return i.scry(document.body,ab)[0]||aa(za);}var xa=wa(s(ua).getFragment());if(xa){var ya=u.getElementPosition(xa);ya.x=0;j.scrollTo(ya);return true;}return false;}},ta=window._BusyUIManager||{_looking_busy:false,_original_cursors:[],lookBusy:function(ua){if(ua)ta._giveProgressCursor(ua);if(ta._looking_busy)return;ta._looking_busy=true;ta._giveProgressCursor(document.documentElement);},stopLookingBusy:function(){if(!ta._looking_busy)return;ta._looking_busy=false;while(ta._original_cursors.length){var ua=ta._original_cursors.pop(),va=ua[0],wa=ua[1];if(va.style)va.style.cursor=wa||'';}},_giveProgressCursor:function(ua){if(!t.webkit()){ta._original_cursors.push([ua,ua.style.cursor]);ua.style.cursor='progress';}}};e.exports=sa;a.PageTransitions=sa;});
__d("Rect",["Vector","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Vector'),h=b('$'),i=b('copyProperties');function j(k,l,m,n,o){if(arguments.length===1){if(k instanceof j)return k;if(k instanceof g)return new j(k.y,k.x,k.y,k.x,k.domain);return j.getElementBounds(h(k));}i(this,{t:k,r:l,b:m,l:n,domain:o||'pure'});}j.prototype.w=function(){return this.r-this.l;};j.prototype.h=function(){return this.b-this.t;};j.prototype.toString=function(){return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';};j.prototype.contains=function(k){k=new j(k).convertTo(this.domain);var l=this;return (l.l<=k.l&&l.r>=k.r&&l.t<=k.t&&l.b>=k.b);};j.prototype.add=function(k,l){if(arguments.length==1){if(k.domain!='pure')k=k.convertTo(this.domain);return this.add(k.x,k.y);}var m=parseFloat(k),n=parseFloat(l);return new j(this.t+n,this.r+m,this.b+n,this.l+m,this.domain);};j.prototype.sub=function(k,l){if(arguments.length==1){return this.add(k.mul(-1));}else return this.add(-k,-l);};j.prototype.rotateAroundOrigin=function(k){var l=this.getCenter().rotate(k*Math.PI/2),m,n;if(k%2){m=this.h();n=this.w();}else{m=this.w();n=this.h();}var o=l.y-n/2,p=l.x-m/2,q=o+n,r=p+m;return new j(o,r,q,p,this.domain);};j.prototype.boundWithin=function(k){var l=0,m=0;if(this.l<k.l){l=k.l-this.l;}else if(this.r>k.r)l=k.r-this.r;if(this.t<k.t){m=k.t-this.t;}else if(this.b>k.b)m=k.b-this.b;return this.add(l,m);};j.prototype.getCenter=function(){return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);};j.prototype.getPositionVector=function(){return new g(this.l,this.t,this.domain);};j.prototype.getDimensionVector=function(){return new g(this.w(),this.h(),'pure');};j.prototype.convertTo=function(k){if(this.domain==k)return this;if(k=='pure')return new j(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new j(0,0,0,0);var l=new g(this.l,this.t,this.domain).convertTo(k);return new j(l.y,l.x+this.w(),l.y+this.h(),l.x,k);};j.deserialize=function(k){var l=k.split(':');return new j(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[0]));};j.newFromVectors=function(k,l){return new j(k.y,k.x+l.x,k.y+l.y,k.x,k.domain);};j.getElementBounds=function(k){return j.newFromVectors(g.getElementPosition(k),g.getElementDimensions(k));};j.getViewportBounds=function(){return j.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());};j.minimumBoundingBox=function(k){var l=new j(Math.min(),Math.max(),Math.max(),Math.min()),m;for(var n=0;n<k.length;n++){m=k[n];l.t=Math.min(l.t,m.t);l.r=Math.max(l.r,m.r);l.b=Math.max(l.b,m.b);l.l=Math.min(l.l,m.l);}return l;};e.exports=j;});
__d("LayerHideOnTransition",["function-extensions","PageTransitions","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('PageTransitions'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._enabled=true;if(!this._subscribed)this._subscribe.bind(this).defer();};i.prototype.disable=function(){this._enabled=false;};i.prototype._handler=function(){if(this._enabled)this._layer.hide();this._subscribe();};i.prototype._subscribe=function(){g.registerHandler(this._handler.bind(this));this._subscribed=true;};h(i.prototype,{_enabled:false,_subscribed:false});e.exports=i;});
__d("SVGChecker",[],function(a,b,c,d,e,f){e.exports={isSVG:function(g){return !!g.ownerSVGElement||g.tagName.toLowerCase()==="svg";},isDisplayed:function(g){try{var i=g.getBBox();if(i&&(i.height===0||i.width===0))return false;}catch(h){return false;}return true;}};});
__d("throttle",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(j,k,l){return i(j,k,l,false,false);}g(h,{acrossTransitions:function(j,k,l){return i(j,k,l,true,false);},withBlocking:function(j,k,l){return i(j,k,l,false,true);}});function i(j,k,l,m,n){if(k==null)k=100;var o,p,q;function r(){p=Date.now();if(o){j.apply(l,o);o=null;q=setTimeout(r,k,!m);}else q=false;}return function s(){o=arguments;if(!q||(Date.now()-p>k))if(n){r();}else q=setTimeout(r,0,!m);};}e.exports=h;});
__d("ContextualLayer",["Arbiter","ARIA","ContextualThing","CSS","DataStore","DOM","Event","Layer","LayerHideOnTransition","Locale","Parent","Rect","Style","SVGChecker","Vector","arrayContains","copyProperties","emptyFunction","getOffsetParent","getOverlayZIndex","removeFromArray","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ARIA'),i=b('ContextualThing'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Layer'),o=b('LayerHideOnTransition'),p=b('Locale'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('SVGChecker'),u=b('Vector'),v=b('arrayContains'),w=b('copyProperties'),x=b('emptyFunction'),y=b('getOffsetParent'),z=b('getOverlayZIndex'),aa=b('removeFromArray'),ba=b('throttle');function ca(ka){return ka.getPosition()==='left'||(ka.isVertical()&&ka.getAlignment()==='right');}for(var da in n)if(n.hasOwnProperty(da))fa[da]=n[da];var ea=n===null?null:n.prototype;fa.prototype=Object.create(ea);fa.prototype.constructor=fa;fa.__superConstructor__=n;function fa(){if(n!==null)n.apply(this,arguments);}fa.prototype._configure=function(ka,la){ea._configure.call(this,ka,la);if(ka.context){this.setContext(ka.context);}else if(ka.contextID){this._setContextID(ka.contextID);}else if(ka.contextSelector)this._setContextSelector(ka.contextSelector);this.setPosition(ka.position);this.setAlignment(ka.alignment);this.setOffsetX(ka.offsetX);this.setOffsetY(ka.offsetY);this._content=la;};fa.prototype._getDefaultBehaviors=function(){return ea._getDefaultBehaviors.call(this).concat([o]);};fa.prototype._buildWrapper=function(ka,la){this._contentWrapper=l.create('div',{className:'uiContextualLayer'},la);return l.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);};fa.prototype.getInsertParent=function(){var ka=this._insertParent;if(!ka){var la=this.getContext();if(la)ka=q.byClass(la,'uiContextualLayerParent');}return ka||ea.getInsertParent.call(this);};fa.prototype.setContent=function(ka){this._content=ka;l.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;};fa.prototype.setContext=function(ka){return this.setContextWithBounds(ka,null);};fa.prototype.setContextWithBounds=function(ka,la){this._contextNode=ka;this._contextBounds=la||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){i.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();this.setARIAProperties();return this;};fa.prototype.shouldSetARIAProperties=function(ka){this._shouldSetARIAProperties=ka;return this;};fa.prototype.setARIAProperties=function(){if(this._shouldSetARIAProperties)h.setPopup(this.getCausalElement(),this.getRoot());return this;};fa.prototype._setContextID=function(ka){this._contextSelector='#'+ka;this._contextNode=null;};fa.prototype._setContextSelector=function(ka){this._contextSelector=ka;this._contextNode=null;};fa.prototype.getCausalElement=function(){return ea.getCausalElement.call(this)||this.getContext();};fa.prototype._setParentSubscription=function(){var ka=this.getContext(),la=null;while(ka!==null){la=k.get(ka,'layer');if(la)break;ka=ka.parentNode;}if(la===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(la)this._parentSubscription=la.subscribe('hide',this.hide.bind(this));this._parentLayer=la;};fa.prototype.setPosition=function(ka){if(this._getOrientation().setDefaultPosition(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setAlignment=function(ka){if(this._getOrientation().setDefaultAlignment(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setOffsetX=function(ka){if(this._getOrientation().setDefaultOffsetX(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setOffsetY=function(ka){if(this._getOrientation().setDefaultOffsetY(ka))this._shown&&this.updatePosition();return this;};fa.prototype.getPosition=function(){return this._getOrientation().getPosition();};fa.prototype._getOrientation=function(){if(!this._orientation)this._orientation=new ja();return this._orientation;};fa.prototype.getContentRoot=function(){return this._contentWrapper;};fa.prototype.getContent=function(){return this._content;};fa.prototype.getContext=function(){if(!this._contextNode)this._contextNode=l.find(document,this._contextSelector);return this._contextNode;};fa.prototype.getContextBounds=function(ka){if(this._contextBounds)return this._contextBounds.convertTo(ka);var la=this.getContext();return r.newFromVectors(u.getElementPosition(la,ka),u.getElementDimensions(la));};fa.prototype.getContextScrollParent=function(){if(!this._contextScrollParent)this._contextScrollParent=s.getScrollParent(this.getContext());return this._contextScrollParent;};fa.prototype.setInsertParent=function(ka){this._insertScrollParent=null;return ea.setInsertParent.call(this,ka);};fa.prototype.getInsertScrollParent=function(){if(!this._insertScrollParent)this._insertScrollParent=s.getScrollParent(this.getInsertParent());return this._insertScrollParent;};fa.prototype.show=function(){if(this._shown)return this;ea.show.call(this);if(this._shown){i.register(this.getRoot(),this.getContext());ga.push(this);this._resizeListener=this._resizeListener||m.listen(window,'resize',ba(this.updatePosition.bind(this)));}return this;};fa.prototype.finishHide=function(){aa(ga,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return ea.finishHide.call(this);};fa.prototype.isFixed=function(){return (s.isFixed(this.getContext())&&!s.isFixed(this.getInsertParent()));};fa.prototype.updatePosition=function(){var ka=this.getContext();if(!ka)return false;var la=this.isFixed();if(!la&&!(ka.offsetParent||(t.isSVG(ka)&&t.isDisplayed(ka))))return false;var ma=this.getRoot();s.set(ma,'width',u.getViewportDimensions().x+'px');var na=this._getOrientation();this.inform('adjust',na.reset());if(!na.isValid())return false;this._updateWrapperPosition(na);this._updateWrapperClass(na);j.conditionClass(ma,'uiContextualLayerPositionerFixed',la);var oa,pa,qa=la?'viewport':'document',ra=la?document.documentElement:y(ma);if(ra===document.documentElement){oa=new u(0,0);pa=document.documentElement.clientWidth;}else if(!ma.offsetParent){return false;}else{oa=u.getElementPosition(ra,qa);pa=ra.offsetWidth;if(ra!==document.body)oa=oa.sub(new u(ra.scrollLeft,ra.scrollTop));}var sa=this.getContextBounds(qa),ta=sa.l-oa.x,ua=sa.t-oa.y,va=sa.h(),wa=sa.w(),xa=p.isRTL();if(na.getPosition()==='below')ua+=va;if((na.getPosition()==='right'||(na.isVertical()&&na.getAlignment()==='right'))!=xa)ta+=wa;var ya=na.getOffsetX();if(na.isVertical()&&na.getAlignment()==='center')ya+=(wa-this.getContentRoot().offsetWidth)/2;if(xa)ya*=-1;var za='left',ab=Math.floor(ta+ya);if(ca(na)!==xa){za='right';ab=pa-ab;}s.set(ma,za,ab+'px');s.set(ma,za==='left'?'right':'left','');var bb=this.getInsertScrollParent(),cb;if(bb!==window){cb=bb.clientWidth;}else cb=document.documentElement.clientWidth;var db=u.getElementPosition(ma).x;if(za==='left'){if(cb-db>0){s.set(ma,'width',(cb-db)+'px');}else s.set(ma,'width','');}else s.set(ma,'width',db+ma.offsetWidth+'px');s.set(ma,'top',(ua+na.getOffsetY())+'px');var eb=z(ka,this.getInsertParent());s.set(ma,'z-index',eb>200?eb:'');this.inform('reposition',na);return true;};fa.prototype._updateWrapperPosition=function(ka){var la=ka.getPosition()==='above';s.set(this._contentWrapper,'bottom',la?'0':null);var ma=p.isRTL()?'left':'right',na=ca(ka);s.set(this._contentWrapper,ma,na?'0':null);};fa.prototype._updateWrapperClass=function(ka){var la=ka.getClassName();if(la===this._orientationClass)return;if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=la;j.addClass(this._contentWrapper,la);};fa.prototype.simulateOrientation=function(ka,la){var ma=ka.getClassName();if(ma===this._orientationClass){return la();}else{if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);j.addClass(this._contentWrapper,ma);var na=la();j.removeClass(this._contentWrapper,ma);if(this._orientationClass)j.addClass(this._contentWrapper,this._orientationClass);return na;}};fa.prototype.destroy=function(){ea.destroy.call(this);this._contentWrapper=null;this._content=null;return this;};fa.prototype.getArrowDimensions=function(){return this._config.arrowDimensions||{offset:0,length:0};};var ga=[];g.subscribe('reflow',function(){ga.forEach(function(ka){if(ka.updatePosition()===false)ka.hide();});});w(fa.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var ha=x.thatReturnsArgument,ia=x.thatReturnsArgument;function ja(){this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}ja.prototype.setPosition=function(ka){this._position=ha(ka);return this;};ja.prototype.setAlignment=function(ka){this._alignment=ia(ka);return this;};ja.prototype.getOppositePosition=function(){return ja.OPPOSITE[this.getPosition()];};ja.prototype.invalidate=function(){this._valid=false;return this;};ja.prototype.getPosition=function(){return this._position||'above';};ja.prototype.getAlignment=function(){return this._alignment||'left';};ja.prototype.getOffsetX=function(){var ka=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)ka*=-1;}else if(this._default._alignment!==this._alignment)ka*=-1;return ka;};ja.prototype.getOffsetY=function(){var ka=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)ka*=-1;return ka;};ja.prototype.getClassName=function(){var ka=this.getAlignment(),la=this.getPosition();if(la==='below'){if(ka==='left'){return 'uiContextualLayerBelowLeft';}else if(ka==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(la==='above'){if(ka==='left'){return 'uiContextualLayerAboveLeft';}else if(ka==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(la==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';};ja.prototype.isValid=function(){return this._valid;};ja.prototype.isVertical=function(){return this.getPosition()==='above'||this.getPosition()==='below';};ja.prototype.reset=function(ka,la){w(this,this._default);return this;};ja.prototype.setDefaultPosition=function(ka){var la=this._default._position;this._default._position=ha(ka);return la!==ka;};ja.prototype.setDefaultAlignment=function(ka){var la=this._default._alignment;this._default._alignment=ia(ka);return la!==ka;};ja.prototype.setDefaultOffsetX=function(ka){var la=this._default._offsetX;this._default._offsetX=ka;return la!==ka;};ja.prototype.setDefaultOffsetY=function(ka){var la=this._default._offsetY;this._default._offsetY=ka;return la!==ka;};ja.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};e.exports=fa;});
__d("TabbableElements",["Style","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Style'),h=b('createArrayFrom');function i(l){if(l.tabIndex>=0)return true;switch(l.tagName){case "A":return l.href&&l.rel!="ignore";case "INPUT":return l.type!="hidden"&&l.type!="file"&&!l.disabled;case "BUTTON":case "SELECT":case "TEXTAREA":return !l.disabled;}return false;}function j(l){if(l.offsetHeight===0&&l.offsetWidth===0)return false;while(l!==document&&g.get(l,'visibility')!='hidden')l=l.parentNode;return l===document;}var k={find:function(l){var m=h(l.getElementsByTagName("*"));return m.filter(k.isTabbable);},isTabbable:function(l){return i(l)&&j(l);}};e.exports=k;});
__d("Toggler",["Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","Dialog","DOM","DOMQuery","Event","Focus","Keys","Parent","TabbableElements","arrayContains","copyProperties","createArrayFrom","cx","emptyFunction","ge","getContextualParent","getObjectValues","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ContextualThing'),j=b('CSS'),k=b('DataStore'),l=b('Dialog'),m=b('DOM'),n=b('DOMQuery'),o=b('Event'),p=b('Focus'),q=b('Keys'),r=b('Parent'),s=b('TabbableElements'),t=b('arrayContains'),u=b('copyProperties'),v=b('createArrayFrom'),w=b('cx'),x=b('emptyFunction'),y=b('ge'),z=b('getContextualParent'),aa=b('getObjectValues'),ba=[],ca,da=b("mixin");function ea(){ea=x;o.listen(document.documentElement,'click',function(event){var la=event.getTarget();ba.forEach(function(ma){ma.clickedTarget=la;ma.active&&!ma.sticky&&!i.containsIncludingLayers(ma.getActive(),la)&&!ma.inTargetFlyout(la)&&ma.inActiveDialog()&&!ma.isIgnoredByModalLayer(la)&&ma.hide();});},o.Priority.URGENT);}var fa=da(h);for(var ga in fa)if(fa.hasOwnProperty(ga))ia[ga]=fa[ga];var ha=fa===null?null:fa.prototype;ia.prototype=Object.create(ha);ia.prototype.constructor=ia;ia.__superConstructor__=fa;function ia(){this.active=null;this.togglers={};this.setSticky(false);ba.push(this);this.subscribe(['show','hide'],ia.inform.bind(ia));return ea();}ia.prototype.show=function(la){var ma=ja(this,la),na=ma.active;if(la!==na){na&&ma.hide();ma.active=la;j.addClass(la,'openToggler');var oa=m.scry(la,'a[rel="toggle"]');if(oa.length>0&&oa[0].getAttribute('data-target'))j.removeClass(y(oa[0].getAttribute('data-target')),'toggleTargetClosed');var pa=n.scry(la,'.uiToggleFlyout')[0];if(pa){var qa=s.find(pa)[0]||pa;if(qa.tabIndex==-1)qa.tabIndex=0;p.setWithoutOutline(qa);}m.appendContent(la,ma.getToggler('next'));m.prependContent(la,ma.getToggler('prev'));o.listen(la,'keydown',function(event){if(o.getKeyCode(event)===q.ESC)if(ma.isShown()){var ra=m.scry(la,'a[rel="toggle"]')[0];ra&&ra.focus();ma.hide();}});ma.inform('show',ma);}};ia.prototype.hide=function(la){var ma=ja(this,la),na=ma.active;if(na&&(!la||la===na)){j.removeClass(na,'openToggler');var oa=m.scry(na,'a[rel="toggle"]');if(oa.length>0&&oa[0].getAttribute('data-target'))j.addClass(y(oa[0].getAttribute('data-target')),'toggleTargetClosed');aa(ma.togglers).forEach(m.remove);ma.inform('hide',ma);ma.active=null;}};ia.prototype.toggle=function(la){var ma=ja(this,la);if(ma.active===la){ma.hide();}else ma.show(la);};ia.prototype.getActive=function(){return ja(this).active;};ia.prototype.isShown=function(){return ja(this).active&&j.hasClass(ja(this).active,'openToggler');};ia.prototype.inTargetFlyout=function(la){var ma=ka(this.getActive());return ma&&i.containsIncludingLayers(ma,la);};ia.prototype.inActiveDialog=function(){var la=l.getCurrent();return !la||m.contains(la.getRoot(),this.getActive());};ia.prototype.isIgnoredByModalLayer=function(la){return r.byClass(la,"_3qw")&&!r.byClass(this.getActive(),"_3qw");};ia.prototype.getToggler=function(la){var ma=ja(this);if(!ma.togglers[la]){ma.togglers[la]=m.create('button',{className:'hideToggler',onfocus:function(){var na=m.scry(ma.active,'a[rel="toggle"]')[0];na&&na.focus();ma.hide();}});ma.togglers[la].setAttribute('type','button');}return this.togglers[la];};ia.prototype.setSticky=function(la){var ma=ja(this);la=la!==false;if(la!==ma.sticky){ma.sticky=la;if(la){ma.$Toggler0&&ma.$Toggler0.unsubscribe();}else ma.$Toggler0=g.subscribe('pre_page_transition',ma.hide.bind(ma,null));}return ma;};ia.bootstrap=function(la){var ma=la.parentNode;ia.getInstance(ma).toggle(ma);};ia.createInstance=function(la){var ma=new ia().setSticky(true);k.set(la,'toggler',ma);return ma;};ia.destroyInstance=function(la){k.remove(la,'toggler');};ia.getInstance=function(la){while(la){var ma=k.get(la,'toggler');if(ma)return ma;if(j.hasClass(la,'uiToggleContext'))return ia.createInstance(la);la=z(la);}return (ca=ca||new ia());};ia.listen=function(la,ma,na){return ia.subscribe(v(la),function(oa,pa){if(pa.getActive()===ma)return na(oa,pa);});};u(ia,ia.prototype);u(ia,{subscribe:(function(la){return function(ma,na){ma=v(ma);if(t(ma,'show'))ba.forEach(function(oa){if(oa.getActive())na.curry('show',oa).defer();});return la(ma,na);};})(ia.subscribe.bind(ia))});function ja(la,ma){if(la instanceof ia)return la;return ia.getInstance(ma);}function ka(la){var ma=m.scry(la,'a[rel="toggle"]');if(ma.length>0&&ma[0].getAttribute('data-target'))return y(ma[0].getAttribute('data-target'));}e.exports=ia;});
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Locale'),i=b('Rect'),j=b('Vector'),k=b('ViewportBounds'),l=b('ge'),m=b('getOverlayZIndex'),n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.r-=k.getLeft();s.l+=k.getRight();}else{s.r-=k.getRight();s.l+=k.getLeft();}}return s;},getLayerRect:function(o,p){var q=o.getContextBounds('viewport'),r=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContent());}),s=q.t+p.getOffsetY();if(p.getPosition()==='above'){s-=r.y;}else if(p.getPosition()==='below')s+=q.b-q.t;var t=q.l+p.getOffsetX(),u=q.r-q.l;if(p.isVertical()){var v=p.getAlignment();if(v==='center'){t+=(u-r.x)/2;}else if((v==='right')!==h.isRTL())t+=u-r.x;}else if((p.getPosition()==='right')!==h.isRTL()){t+=u;}else t-=r.x;return new i(s,t+r.x,s+r.y,t,'viewport');}};e.exports=n;});
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOM","Vector","Rect","arrayContains","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('DOM'),i=b('Vector'),j=b('Rect'),k=b('arrayContains'),l=b('copyProperties');function m(o,p){p=new j(p).convertTo(o.domain);var q=Math.max(o.l,p.l),r=Math.min(o.r,p.r);return Math.max(r-q,0);}function n(o){this._layer=o;}n.prototype.enable=function(){this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();};n.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();};n.prototype._adjustOrientation=function(o,p){var q=this._getValidPositions(p);if(!q.length){p.invalidate();return;}var r=g.getViewportRect(this._layer),s=this._getValidAlignments(p),t,u,v;for(t=0;t<s.length;t++){p.setAlignment(s[t]);for(u=0;u<q.length;u++){p.setPosition(q[u]);v=g.getLayerRect(this._layer,p);if(r.contains(v))return;}}p.setPosition(k(q,'below')?'below':q[0]);var w,x=0,y=0;for(t=0;t<s.length;t++){p.setAlignment(s[t]);v=g.getLayerRect(this._layer,p);w=m(r,v);if(w>y){y=w;x=t;}}p.setAlignment(s[x]);};n.prototype._getValidPositions=function(o){var p=[o.getPosition(),o.getOppositePosition()],q=this._layer.getContextScrollParent();if(q===window||q===h.getDocumentScrollElement())return p;var r=this._layer.getContext(),s=i.getElementPosition(q,'viewport').y,t=i.getElementPosition(r,'viewport').y;if(o.isVertical()){return p.filter(function(v){if(v==='above'){return t>=s;}else{var w=s+q.offsetHeight,x=t+r.offsetHeight;return x<=w;}});}else{var u=s+q.offsetHeight;if(t>=s&&t+r.offsetHeight<=u){return p;}else return [];}};n.prototype._getValidAlignments=function(o){var p=['left','right','center'],q=o.getAlignment(),r=p.indexOf(q);if(r>0){p.splice(r,1);p.unshift(q);}return p;};l(n.prototype,{_subscription:null});e.exports=n;});
__d("Tooltip",["Event","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DataStore","DOM","Style","URI","copyProperties","emptyFunction","cx","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('ContextualLayer'),j=b('ContextualLayerAutoFlip'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Style'),o=b('URI'),p=b('copyProperties'),q=b('emptyFunction'),r=b('cx'),s=b('tx'),t=null,u=null,v=null,w=[],x;function y(){if(!u){v=m.create('div',{className:'tooltipContent'});var fa=m.create('i',{className:'arrow'}),ga=m.create('div',{className:'uiTooltipX'},[v,fa]);u=new i({},ga);u.shouldSetARIAProperties(false);u.enableBehavior(j);}}function z(fa){return p({content:fa.getAttribute('aria-label'),position:fa.getAttribute('data-tooltip-position')||'above',alignH:fa.getAttribute('data-tooltip-alignh')||'left'},l.get(fa,'tooltip'));}function aa(fa,ga){var ha=z(fa);l.set(fa,'tooltip',{content:ga.content||ha.content,position:ga.position||ha.position,alignH:ga.alignH||ha.alignH,suspend:ga.suspend||ha.suspend});fa.setAttribute('data-hover','tooltip');}function ba(fa,ga){ea.set(fa,"Loading...");new h(ga).setHandler(function(ha){ea.set(fa,ha.getPayload());}).setErrorHandler(q).send();}var ca=/(\r\n|[\r\n])/;function da(fa){return fa.split(ca).map(function(ga){return ca.test(ga)?m.create('br'):ga;});}var ea={process:function(fa,ga){if(!m.contains(fa,ga))return;if(fa!==t&&!fa.getAttribute('data-tooltip-suspend')){var ha=fa.getAttribute('data-tooltip-uri');if(ha){fa.removeAttribute('data-tooltip-uri');ba(fa,ha);}ea.show(fa);}},remove:function(fa){l.remove(fa,'tooltip');fa.removeAttribute('data-hover');fa.removeAttribute('data-tooltip-position');fa.removeAttribute('data-tooltip-alignh');fa===t&&ea.hide();},suspend:function(fa){fa.setAttribute('data-tooltip-suspend',true);fa===t&&ea.hide();},unsuspend:function(fa){fa.removeAttribute('data-tooltip-suspend');},hide:function(){if(t){u.hide();t=null;while(w.length)w.pop().remove();}},set:function(fa,ga,ha,ia){if(ha||ia)aa(fa,{position:ha,alignH:ia});if(ga instanceof o){if(fa===t){ba(fa,ga);}else fa.setAttribute('data-tooltip-uri',ga);}else{if(typeof ga!=='string'){ga=m.create('div',{},ga);fa.setAttribute('aria-label',m.getText(ga));}else fa.setAttribute('aria-label',ga);aa(fa,{content:ga});fa===t&&ea.show(fa);}},show:function(fa){y();ea.hide();var ga=z(fa);if(!ga.content)return;var ha=0,ia=0;if(ga.position==='left'||ga.position==='right'){x=x||k.hasClass(document.body,"_6nw");var ja=x?28:20;ia=(fa.offsetHeight-ja)/2;}else if(ga.alignH!=='center'){var ka=fa.offsetWidth;if(ka<18)ha=(ka-18)/2*(ga.alignH==='right'?-1:1);}u.setContext(fa).setOffsetX(ha).setOffsetY(ia).setPosition(ga.position).setAlignment(ga.alignH);if(typeof ga.content==='string'){k.addClass(u.getRoot(),'invisible_elem');var la=m.create('span',{},da(ga.content)),ma=m.create('div',{className:'tooltipText'},la);m.setContent(v,ma);u.show();var na;if(ma.getClientRects){var oa=ma.getClientRects()[0];if(oa)na=Math.round(oa.right-oa.left);}if(!na)na=ma.offsetWidth;if(na<la.offsetWidth){k.addClass(ma,'tooltipWrap');u.updatePosition();}k.removeClass(u.getRoot(),'invisible_elem');}else{m.setContent(v,ga.content);u.show();}var pa=function(ra){if(!m.contains(t,ra.getTarget()))ea.hide();};w.push(g.listen(document.documentElement,'mouseover',pa),g.listen(document.documentElement,'focusin',pa));var qa=n.getScrollParent(fa);if(qa!==window)w.push(g.listen(qa,'scroll',ea.hide));w.push(g.listen(fa,'click',ea.hide));t=fa;}};g.listen(window,'scroll',ea.hide);e.exports=ea;});
__d("SelectorDeprecated",["Event","Arbiter","Button","ContextualLayer","CSS","DataStore","DOM","Focus","HTML","Keys","KeyStatus","MenuDeprecated","Parent","Style","Toggler","Tooltip","Vector","arrayContains","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('Button'),j=b('ContextualLayer'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Focus'),o=b('HTML'),p=b('Keys'),q=b('KeyStatus'),r=b('MenuDeprecated'),s=b('Parent'),t=b('Style'),u=b('Toggler'),v=b('Tooltip'),w=b('Vector'),x=b('arrayContains'),y=b('copyProperties'),z=b('emptyFunction'),aa,ba,ca=[],da;function ea(pa){return s.byClass(pa,'uiSelector');}function fa(pa){return s.byClass(pa,'uiSelectorButton');}function ga(){if(!ba){ba=new j({position:'below'},m.create('div'));k.addClass(ba.getRoot(),'uiSelectorContextualLayer');}return ba;}function ha(pa){return m.scry(pa,'select')[0];}function ia(pa){return m.find(pa,'div.uiSelectorMenuWrapper');}function ja(){ja=z;r.subscribe('select',function(pa,qa){if(!aa||!qa||qa.menu!==oa.getSelectorMenu(aa))return;var ra=ka(aa),sa=la(qa.item);if(sa){var ta=aa,ua=oa.isOptionSelected(qa.item),va=oa.inform('select',{selector:ta,option:qa.item,clone:da});if(va===false)return;if(ra||!ua){oa.setSelected(ta,oa.getOptionValue(qa.item),!ua);oa.inform('toggle',{selector:ta,option:qa.item});oa.inform('change',{selector:ta});h.inform('Form/change',{node:ta});if(ma(ta))l.set(ta,'dirty',true);}}if(!ra||!sa)aa&&oa.toggle(aa);});}function ka(pa){return !!pa.getAttribute('data-multiple');}function la(pa){return k.hasClass(pa,'uiSelectorOption');}function ma(pa){return !!pa.getAttribute('data-autosubmit');}var na=function(){na=z;var pa={keydown:function(event){var qa=event.getTarget();if(m.isInputNode(qa))return;switch(g.getKeyCode(event)){case p.DOWN:case p.SPACE:case p.UP:if(fa(qa)){var ra=ea(qa);oa.toggle(ra);return false;}break;case p.ESC:if(aa){var sa=oa.getSelectorButton(aa);oa.toggle(aa);sa&&n.set(sa);return false;}break;}},mouseover:function(event){var qa=s.byAttribute(event.getTarget(),'ajaxify');if(qa&&k.hasClass(qa,'uiSelectorButton'))oa.loadMenu(ea(qa));}};g.listen(document.body,pa);};u.subscribe(['show','hide'],function(pa,qa){var ra=ea(qa.getActive());if(ra){na();ja();var sa=oa.getSelectorButton(ra),ta=oa.getSelectorMenu(ra),ua=pa==='show';sa.setAttribute('aria-expanded',ua?'true':'false');if(ua){aa=ra;if(k.hasClass(sa,'uiButtonDisabled')){oa.setEnabled(ra,false);return false;}ta=ta||oa.loadMenu(ra);var va=t.getScrollParent(ra),wa=va!==window&&va!==m.getDocumentScrollElement();if(wa||k.hasClass(ra,'uiSelectorUseLayer')){if(wa)ca.push(g.listen(va,'scroll',function(){qa.hide();}));da=m.create('div',{className:ra.className});k.addClass(da,'invisible_elem');w.getElementDimensions(ra).setElementDimensions(da);m.replace(ra,da);var xa=k.hasClass(ra,'uiSelectorRight'),ya=k.hasClass(ra,'uiSelectorBottomUp');ga().setContext(da).setContent(ra).setPosition(ya?'above':'below').setAlignment(xa?'right':'left').show();}r.register(ta);if(q.isKeyDown()){var za=r.getCheckedItems(ta);if(!za.length)za=r.getEnabledItems(ta);r.focusItem(za[0]);}}else{aa=null;if(da){while(ca.length)ca.pop().remove();m.replace(da,ra);ga().hide();da=null;}ta&&r.unregister(ta);if(ma(ra)&&l.get(ra,'dirty')){var ab=m.scry(ra,'input.submitButton')[0];ab&&ab.click();l.remove(ra,'dirty');}}k.conditionClass(oa.getSelectorButton(ra),'selected',ua);oa.inform(ua?'open':'close',{selector:ra,clone:da});}});var oa=y(new h(),{attachMenu:function(pa,qa,ra){pa=ea(pa);if(pa){aa&&r.unregister(oa.getSelectorMenu(aa));m.setContent(ia(pa),qa);aa&&r.register(oa.getSelectorMenu(pa));da&&ga().updatePosition();if(ra){var sa=pa.getAttribute('data-name');sa&&ra.setAttribute('name',sa);if(!ka(pa))ra.setAttribute('multiple',false);var ta=ha(pa);if(ta){m.replace(ta,ra);}else m.insertAfter(pa.firstChild,ra);}return true;}},getOption:function(pa,qa){var ra=oa.getOptions(pa),sa=ra.length;while(sa--)if(qa===oa.getOptionValue(ra[sa]))return ra[sa];return null;},getOptions:function(pa){var qa=r.getItems(oa.getSelectorMenu(pa));return qa.filter(la);},getEnabledOptions:function(pa){var qa=r.getEnabledItems(oa.getSelectorMenu(pa));return qa.filter(la);},getSelectedOptions:function(pa){return r.getCheckedItems(oa.getSelectorMenu(pa));},getOptionText:function(pa){return r.getItemLabel(pa);},getOptionValue:function(pa){var qa=ea(pa),ra=ha(qa),sa=oa.getOptions(qa).indexOf(pa);return sa>=0?ra.options[sa+1].value:'';},getSelectorButton:function(pa){return m.find(pa,'a.uiSelectorButton');},getSelectorMenu:function(pa){return m.scry(pa,'div.uiSelectorMenu')[0];},getValue:function(pa){var qa=ha(pa);if(!qa)return null;if(!ka(pa))return qa.value;var ra=[],sa=qa.options;for(var ta=1,ua=sa.length;ta<ua;ta++)if(sa[ta].selected)ra.push(sa[ta].value);return ra;},isOptionSelected:function(pa){return r.isItemChecked(pa);},listen:function(pa,qa,ra){return this.subscribe(qa,function(sa,ta){if(ta.selector===pa)return ra(ta,sa);});},loadMenu:function(pa){var qa=oa.getSelectorMenu(pa);if(!qa){var ra=oa.getSelectorButton(pa),sa=ra.getAttribute('ajaxify');if(sa){d(['AsyncRequest'],function(ua){ua.bootstrap(sa,ra);});var ta=o('<div class="uiSelectorMenuWrapper uiToggleFlyout">'+'<div class="uiMenu uiSelectorMenu loading">'+'<ul class="uiMenuInner">'+'<li><span></span></li>'+'</ul>'+'</div>'+'</div>');m.appendContent(ra.parentNode,ta);qa=oa.getSelectorMenu(pa);ra.removeAttribute('onmouseover');}}return qa;},setButtonLabel:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=parseInt(ra.getAttribute('data-length'),10);qa=qa||ra.getAttribute('data-label')||'';i.setLabel(ra,qa);if(typeof qa==='string')if(sa&&qa.length>sa){ra.setAttribute('title',qa);}else ra.removeAttribute('title');},setButtonTooltip:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=s.byTag(ra,'a');sa&&v.set(sa,qa||ra.getAttribute('data-tooltip')||'');},setEnabled:function(pa,qa){if(!qa&&aa&&ea(pa)===aa)oa.toggle(pa);i.setEnabled(oa.getSelectorButton(pa),qa);},setOptionEnabled:function(pa,qa){r.setItemEnabled(pa,qa);},setSelected:function(pa,qa,ra){ra=ra!==false;var sa=oa.getOption(pa,qa);if(!sa)return;var ta=oa.isOptionSelected(sa);if(ra!==ta){if(!ka(pa)&&!ta){var ua=oa.getSelectedOptions(pa)[0];ua&&r.toggleItem(ua);}r.toggleItem(sa);}oa.updateSelector(pa);},toggle:function(pa){u.toggle(m.scry(ea(pa),'div.wrap')[0]);},updateSelector:function(pa){var qa=oa.getOptions(pa),ra=oa.getSelectedOptions(pa),sa=ha(pa).options,ta=[],ua=[];for(var va=0,wa=qa.length;va<wa;va++){var xa=x(ra,qa[va]);sa[va+1].selected=xa;if(xa){var ya=oa.getOptionText(qa[va]);ta.push(ya);ua.push(qa[va].getAttribute('data-tooltip')||ya);}}sa[0].selected=!ra.length;var za=k.hasClass(pa,'uiSelectorDynamicLabel'),ab=k.hasClass(pa,'uiSelectorDynamicTooltip');if(za||ab){var bb='';if(ka(pa)){var cb=oa.getSelectorButton(pa);bb=cb.getAttribute('data-delimiter')||', ';}ta=ta.join(bb);ua=ua.join(bb);za&&oa.setButtonLabel(pa,ta);ab&&oa.setButtonTooltip(pa,ua);}}});e.exports=oa;});
__d("UserActivity",["Arbiter","Event"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Event'),i=5000,j=500,k=-5,l=Date.now(),m=l,n={subscribeOnce:function(p){var q=n.subscribe(function(){n.unsubscribe(q);p();});},subscribe:function(p){return g.subscribe('useractivity/activity',p);},unsubscribe:function(p){p.unsubscribe();},isActive:function(p){return (new Date()-l<(p||i));},getLastInformTime:function(){return m;}};function o(event){l=Date.now();var p=l-m;if(p>j){m=l;g.inform('useractivity/activity',{event:event,idleness:p,last_inform:m});}else if(p<k)m=l;}h.listen(window,'scroll',o);h.listen(window,'focus',o);h.listen(document.documentElement,{DOMMouseScroll:o,mousewheel:o,keydown:o,mouseover:o,mousemove:o,click:o});g.subscribe('Event/stop',function(p,q){o(q.event);});e.exports=n;});
__d("collectDataAttributes",["getContextualParent"],function(a,b,c,d,e,f){var g=b('getContextualParent');function h(i,j){var k={},l={},m=j.length,n;for(n=0;n<m;++n){k[j[n]]={};l[j[n]]='data-'+j[n];}var o={tn:'',"tn-debug":','};while(i){if(i.getAttribute)for(n=0;n<m;++n){var p=i.getAttribute(l[j[n]]);if(p){var q=JSON.parse(p);for(var r in q)if(o[r]!==undefined){if(k[j[n]][r]===undefined)k[j[n]][r]=[];k[j[n]][r].push(q[r]);}else if(k[j[n]][r]===undefined)k[j[n]][r]=q[r];}}i=g(i);}for(var s in k)for(var t in o)if(k[s][t]!==undefined)k[s][t]=k[s][t].join(o[t]);return k;}e.exports=h;});
__d("Scrollable",["Event","Parent","UserAgent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('UserAgent'),j=function(event){var m=h.byClass(event.getTarget(),'scrollable');if(!m)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY)||(event.deltaX&&!event.deltaY))return;var n=event.wheelDelta||-event.deltaY||-event.detail,o=m.scrollHeight,p=m.clientHeight;if(o>p){var q=m.scrollTop;if((n>0&&q===0)||(n<0&&q>=o-p)){event.prevent();}else if(i.ie()<9)if(m.currentStyle){var r=m.currentStyle.fontSize;if(r.indexOf('px')<0){var s=document.createElement('div');s.style.fontSize=r;s.style.height='1em';r=s.style.pixelHeight;}else r=parseInt(r,10);m.scrollTop=q-Math.round(n/120*r);event.prevent();}}},k=document.documentElement;if(i.firefox()){var l=('WheelEvent' in window)?'wheel':'DOMMouseScroll';k.addEventListener(l,j,false);}else g.listen(k,'mousewheel',j);});
__d("LayerAutoFocus",["function-extensions","DOMQuery","Focus","TabbableElements","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOMQuery'),h=b('Focus'),i=b('TabbableElements'),j=b('copyProperties');function k(l){this._layer=l;}k.prototype.enable=function(){this._subscription=this._layer.subscribe('aftershow',this._focus.bind(this));};k.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};k.prototype._focus=function(){var l=this._layer.getRoot(),m=g.scry(l,'.autofocus')[0],n=true;if(!m){var o=document.activeElement;if(g.isNodeOfType(o,['input','textarea']))return;var p=i.find(l);for(var q=0;q<p.length;q++)if(p[q].tagName!='A'){m=p[q];n=false;break;}}else if(m.tabIndex!==0)n=false;if(m){n?h.set(m):h.setWithoutOutline(m);}else{l.tabIndex=0;h.setWithoutOutline(l);}};j(k.prototype,{_subscription:null});e.exports=k;});
__d("LayerButtons",["Event","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('copyProperties');function j(k){this._layer=k;}j.prototype.enable=function(){this._listener=g.listen(this._layer.getRoot(),'click',this._handle.bind(this));};j.prototype.disable=function(){this._listener.remove();this._listener=null;};j.prototype._handle=function(k){var l=k.getTarget(),m=h.byClass(l,'layerConfirm');if(m){if(this._layer.inform('confirm',m)===false)k.prevent();return;}var n=h.byClass(l,'layerCancel');if(n){if(this._layer.inform('cancel',n)!==false)this._layer.hide();k.prevent();return;}var o=h.byClass(l,'layerButton');if(o)if(this._layer.inform('button',o)===false)k.prevent();};i(j.prototype,{_listener:null});e.exports=j;});
__d("LayerDestroyOnHide",["function-extensions","copyProperties","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('copyProperties'),h=b('shield');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscription=this._layer.subscribe('hide',h(Function.prototype.defer,this._layer.destroy.bind(this._layer)));};i.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};g(i.prototype,{_subscription:null});e.exports=i;});
__d("LayerFadeOnShow",["Animation","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style'),i=b('UserAgent'),j=b('copyProperties');function k(l){this._layer=l;}k.prototype.enable=function(){if(i.ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){h.set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];};k.prototype.disable=function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}};k.prototype._getDuration=function(){return 100;};k.prototype._animate=function(){var l=this._layer.getRoot();new g(l).from('opacity',0).to('opacity',1).duration(this._getDuration()).ondone(h.set.curry(l,'opacity','')).go();};j(k.prototype,{_subscriptions:null});e.exports=k;});
__d("LayerFormHooks",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){var j=this._layer.getRoot();this._subscriptions=[g.listen(j,'submit',this._onSubmit.bind(this)),g.listen(j,'success',this._onSuccess.bind(this)),g.listen(j,'error',this._onError.bind(this))];};i.prototype.disable=function(){this._subscriptions.forEach(function(j){j.remove();});this._subscriptions=null;};i.prototype._onSubmit=function(event){if(this._layer.inform('submit',event)===false)event.kill();};i.prototype._onSuccess=function(event){if(this._layer.inform('success',event)===false)event.kill();};i.prototype._onError=function(event){var j=event.getData();if(this._layer.inform('error',{response:j.response})===false)event.kill();};h(i.prototype,{_subscriptions:null});e.exports=i;});
__d("LayerHideOnEscape",["Event","Keys","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Keys'),i=b('copyProperties');function j(k){this._layer=k;}j.prototype.enable=function(){this._subscription=this._layer.subscribe('key',this._handle.bind(this));};j.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};j.prototype._handle=function(k,event){if(g.getKeyCode(event)===h.ESC){this._layer.hide();return false;}};i(j.prototype,{_subscription:null});e.exports=j;});
__d("LayerRemoveOnHide",["function-extensions","DOM","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOM'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscription=this._layer.subscribe('hide',g.remove.curry(this._layer.getRoot()));};i.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};h(i.prototype,{_subscription:null});e.exports=i;});